(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{318:function(e,t,a){e.exports=a.p+"static/media/offline.058ed453.png"},333:function(e,t,a){e.exports=a.p+"static/media/maintenance.876a52ae.png"},335:function(e,t,a){e.exports=a(750)},340:function(e,t,a){},404:function(e,t,a){},750:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(29),s=a.n(r),i=(a(340),a(17)),o=a(18),c=a(21),m=a(19),u=a(20),p=a(25),d=a.n(p),h=a(32),E=a(183),f=a(12),v=a.n(f),g=a(753),b=a(756),C=a(755),N=a(754),y={hostnameServer:window.location.protocol.concat("//").concat(window.location.hostname),hostnameManuelServer:"https://app.fidliz.com/"},S=(a(404),a(318)),x=a.n(S),w=a(10),k=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("footer",{className:"sticky-footer bg-dark text-white"},l.a.createElement("div",{className:"container my-auto"},l.a.createElement("div",{className:"copyright text-center my-auto"},l.a.createElement("span",null,"\xa9 2019 Copyright | www.fidliz.com "),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"badge badge-light"},"Version : 1.0.0.0")))))}}]),t}(n.Component),M=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"deconnexion",value:function(){w.a.event({category:"User",action:"L'entreprise s'est d\xe9connect\xe9."}),d.a.remove("#FID#CO#SUCCESS"),d.a.remove("#FID#CO#IDUSER"),d.a.remove("#FID#CO#TYPECPT"),d.a.remove("#FID#CO#CARTEBG"),d.a.remove("#FID#CO#CARTEICON"),d.a.remove("#FID#CO#APIKEY"),window.location.href="/"}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},l.a.createElement("a",{className:"navbar-brand",href:"/dashboard"},"FIDLIZ")),l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-white bg-white"},l.a.createElement("a",{className:"navbar-brand",href:"/dashboard"},this.props.title),l.a.createElement("button",{className:"navbar-toggler bg-dark",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon text"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement("a",{className:"nav-link",href:"/dashboard"},l.a.createElement("i",{className:"fas fa-fw fa-tachometer-alt"})," Dashboard ",l.a.createElement("span",{className:"sr-only"},"(current)"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/profil"},l.a.createElement("i",{className:"fas fa-fw fa-user-tie"})," Profil")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/client"},l.a.createElement("i",{className:"fas fa-fw fa-users"})," Clients")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/prestations"},l.a.createElement("i",{className:"fas fa-fw fa-users"})," Gestion de prestation")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/log"},l.a.createElement("i",{className:"fas fa-fw fa-file-alt"})," Gestion des logs")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",onClick:this.deconnexion.bind(this),href:"/"},l.a.createElement("i",{className:"fas fa-fw fa-sign-out-alt"})," D\xe9connexion"))))),l.a.createElement("br",null))}}]),t}(n.Component),I=a(44),j=a.n(I),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={totalClient:"",nbClient:"",limitClient:"",nbPointage:"",limitPointage:"",typeCompte:"",debutAbo:"",finAbo:"",jRestants:"",totalGainsClient:"",scoreTotal:"",notationTotal:"",configuration:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=fetch(y.hostnameManuelServer+"fidapi/main.php?action=datadashboard&id="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}),t=fetch(y.hostnameManuelServer+"fidapi/main.php?action=compteNombreClient&id="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}),a=fetch(y.hostnameManuelServer+"fidapi/main.php?action=gainsTotalClient&ident="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}),n=fetch(y.hostnameManuelServer+"fidapi/main.php?action=calculScoreEntreprise&identreprise="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}),l={apiRequest1:{},apiRequest2:{},apiRequest3:{},apiRequest4:{}};Promise.all([e,t,a,n]).then(function(e){var t=this;l.apiRequest1=e[0],l.apiRequest2=e[1],l.apiRequest3=e[2],l.apiRequest4=e[3],l.apiRequest1.map(function(e){return t.setState({nbClient:e.nbclient,limitClient:e.limitclient,nbPointage:e.nbpointage,limitPointage:e.limitpointage,typeCompte:e.typecompte,debutAbo:e.debutabo,finAbo:e.finabo,jRestants:e.jrestant,configuration:e.configuration})}),null===l.apiRequest3?this.setState({totalClient:l.apiRequest2,totalGainsClient:"0"}):this.setState({totalClient:l.apiRequest2,totalGainsClient:l.apiRequest3}),l.apiRequest4.map(function(e){return t.setState({scoreTotal:e.score_total,notationTotal:e.note_total,loading:!0})})}.bind(this))}},{key:"calculScoreClassement",value:function(){return null===this.state.scoreTotal&&null===this.state.notationTotal?"0 / 10":(this.state.scoreTotal/this.state.notationTotal*10).toFixed(1)+" / 10"}},{key:"render",value:function(){var e;return e=this.state.loading?l.a.createElement("div",null,l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8"}),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("a",{href:"/productivite",className:"btn btn-sm btn-primary btn-block"},l.a.createElement("i",{className:"fas fa-briefcase"})," Mode fid\xe9lit\xe9"))),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-3 col-md-6 mb-4"},l.a.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"CLIENTS"),l.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.state.totalClient)),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-user fa-2x text-black-300"})))))),l.a.createElement("div",{className:"col-xl-3 col-md-6 mb-4"},l.a.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"LIMITATION CLIENTS"),l.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.state.limitClient)),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-users fa-2x text-black"})))))),l.a.createElement("div",{className:"col-xl-3 col-md-6 mb-4"},l.a.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"Pointage total re\xe7u"),l.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.state.nbPointage)),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-hand-pointer fa-2x"})))))),l.a.createElement("div",{className:"col-xl-3 col-md-6 mb-4"},l.a.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"Limitation pointage"),l.a.createElement("div",{className:"h5 mb-0 mr-3 font-weight-bold text-gray-800"},this.state.limitPointage)),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-hand-pointer fa-2x text-black-300"}))))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-3 col-md-6 mb-4"},l.a.createElement("div",{className:"card border-left-success shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-success text-uppercase mb-1"},"DEBUT ABONNEMENT"),l.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.state.debutAbo)),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-calendar fa-2x text-black-300"})))))),l.a.createElement("div",{className:"col-xl-3 col-md-6 mb-4"},l.a.createElement("div",{className:"card border-left-info shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-info text-uppercase mb-1"},"FIN ABONNEMENT"),l.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.state.finAbo)),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-calendar fa-2x text-black-300"})))))),l.a.createElement("div",{className:"col-xl-3 col-md-6 mb-4"},l.a.createElement("div",{className:"card border-left-warning shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-warning text-uppercase mb-1"},"Type de compte"),l.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},"0"===this.state.typeCompte&&"Normal","1"===this.state.typeCompte&&"Essaie","2"===this.state.typeCompte&&"Bronze","3"===this.state.typeCompte&&"Argent","4"===this.state.typeCompte&&"Or")),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fab fa-typo3 fa-2x text-black-300"})))))),l.a.createElement("div",{className:"col-xl-3 col-md-6 mb-4"},l.a.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"JOURS RESTANTS"),l.a.createElement("div",{className:"h5 mb-0 mr-3 font-weight-bold text-gray-800"},this.state.jRestants)),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-calendar fa-2x text-black-300"}))))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-3 col-md-6 mb-4"},l.a.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"Gains sur totalit\xe9 client\xe8le"),l.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.state.totalGainsClient," \u20ac")),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-hand-holding-usd fa-2x"})))))),l.a.createElement("div",{className:"col-xl-3 col-md-6 mb-4"},l.a.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"Score"),l.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.calculScoreClassement())),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-star fa-2x"}))))))))):l.a.createElement("div",{className:"styleLoader"},l.a.createElement("center",null,l.a.createElement(j.a,{type:"Triangle",color:"#00BFFF",height:"100",width:"100"})," ")),l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement(M,{title:"Dashboard"}),e),l.a.createElement(k,null))),l.a.createElement("a",{className:"scroll-to-top rounded",href:"#page-top"},l.a.createElement("i",{className:"fas fa-angle-up"})))}}]),t}(n.Component),P=a(184),T=a.n(P),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).fileSelect=function(e){a.setState({selectedFileBKG:e.target.files[0]}),console.log(e.target.files[0])},a.fileUpload=function(){var e=new FormData;e.append("image",a.state.selectedFileBKG,a.state.selectedFileBKG.name),T.a.post(y.hostnameManuelServer+"fidapi/main.php?action=uploadBackgroundImg&id="+a.props.idUserRecup+"&apikey="+a.props.apikey,e).then(function(e){console.log(e),"#MAJBKGCARTE#SUCCESS"===e.data?(a.setState({statutUpload:"1"}),w.a.event({category:"User",action:"L'entreprise "+a.state.nomSociete+" vien de changer le design de la carte."})):"#MAJBKGCARTE#FAILED"===e.data?(a.setState({statutUpload:"2"}),w.a.event({category:"User",action:"L'entreprise "+a.state.nomSociete+" n'a pas r\xe9ussi \xe0 changer le design de la carte."})):"#UPLOADCARTE#FAILED"===e.data?(a.setState({statutUpload:"3"}),w.a.event({category:"User",action:"L'entreprise "+a.state.nomSociete+" a rencontr\xe9 un probl\xe8me d'upload de fichier (background)."})):"#UPLOADIMENSION#FAILED"===e.data&&(a.setState({statutUpload:"4"}),w.a.event({category:"User",action:"L'entreprise "+a.state.nomSociete+" a rencontr\xe9 un probl\xe8me d'upload de fichier (dimension)."})),setTimeout(function(){return window.location.href="/profil"},2500)})},a.fileSelectLogo=function(e){a.setState({selectedFileLogo:e.target.files[0]}),console.log(e.target.files[0])},a.fileUploadLogo=function(){var e=new FormData;e.append("image",a.state.selectedFileLogo,a.state.selectedFileLogo.name),T.a.post(y.hostnameManuelServer+"fidapi/main.php?action=uploadLogoImg&id="+a.props.idUserRecup+"&apikey="+a.props.apikey,e).then(function(e){console.log(e),"#EXTLOGOUPLOAD#FAILED"===e.data?(a.setState({statutUpload:"5"}),w.a.event({category:"User",action:"L'entreprise "+a.state.nomSociete+" a rencontr\xe9 un probl\xe8me d'upload de fichier."})):"#MAJLOGOCARTE#SUCCESS"===e.data?(a.setState({statutUpload:"6"}),w.a.event({category:"User",action:"L'entreprise "+a.state.nomSociete+" a mis \xe0 jour son logo."})):"#MAJLOGOCARTE#FAILED"===e.data?(a.setState({statutUpload:"7"}),w.a.event({category:"User",action:"L'entreprise "+a.state.nomSociete+" n'a pas r\xe9ussi \xe0 mettre \xe0 jour son logo."})):"#UPLOADLOGOCARTE#SUCCESS"===e.data?(a.setState({statutUpload:"8"}),w.a.event({category:"User",action:"L'entreprise "+a.state.nomSociete+" a r\xe9ussi \xe0 mettre \xe0 jour le logo de la carte."})):"#UPLOADIMENSIONLOGO#FAILED"===e.data&&(a.setState({statutUpload:"9"}),w.a.event({category:"User",action:"L'entreprise "+a.state.nomSociete+" a rencontr\xe9 un probl\xe8me d'upload de fichier (dimension)."})),setTimeout(function(){return window.location.href="/profil"},2500)})},a.handleChange=function(e){console.log(e),a.setState({selectedOption:e})},a.handleChangePrestation=function(e){console.log(e),a.setState({selectedOptionPrestation:e})},a.state={nom:"",prenom:"",email:"",adresse:"",nomSociete:"",telephone:"",nbClient:"",limitClient:"",nbPointage:"",limitPointage:"",typeCompte:"",debutAbo:"",finAbo:"",jRestants:"",imgFondCarte:"",imgIconCarte:"",codepostal:"",ville:"",selectedFileBKG:null,selectedFileLogo:null,statutUpload:"",selectedOption:null,selectedOptionPrestation:null,afflisteCadeaux:[],cadeaux:"",prixcadeaux:"",configuration:"",loading:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=datadashboard&id="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){t.map(function(t,a){return e.setState({nom:t.nom,prenom:t.prenom,email:t.email,adresse:t.adresse,nomSociete:t.nomsociete,telephone:t.telephone,nbClient:t.nbclient,limitClient:t.limitclient,nbPointage:t.nbpointage,limitPointage:t.limitpointage,typeCompte:t.typecompte,debutAbo:t.debutabo,finAbo:t.finabo,jRestants:t.jrestant,apikey:t.apikey,imgFondCarte:t.imgfond,imgIconCarte:t.imgicon,cadeaux:t.cadeaux,prixcadeaux:t.prixcadeaux,secteur:t.secteur,configuration:t.configuration,codepostal:t.codepostal,ville:t.ville,loading:!0})})}).catch(function(e){return console.error(e)}),fetch(y.hostnameManuelServer+"fidapi/main.php?action=afficheListeCadeaux&id="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){"#SLCTLISTECADEAUX#ECHEC"!==t&&e.setState({afflisteCadeaux:t})}).catch(function(e){return console.error(e)})}},{key:"enregistreCadeaux",value:function(){var e=this,t=this.state.selectedOption,a=t.label.split(" - ");fetch(y.hostnameManuelServer+"fidapi/main.php?action=updateCadeauxEntreprise&identreprise="+this.props.idUserRecup+"&prestation="+a[0]+"&prix="+a[1].substring(0,a[1].length-1)+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(n){"#UPENTGIFT#SUCCESS"===n?(console.log(n),e.setState({selectedOption:t,cadeaux:a[0],prixcadeaux:a[1].substring(0,a[1].length-1)}),w.a.event({category:"User",action:"L'entreprise "+e.state.nomSociete+" a mis \xe0 jour son cadeaux de fid\xe9lit\xe9."})):"#UPENTGIFT#FAILED"===n&&(console.log(n),e.setState({selectedOption:t}),console.log("Option selected:",t),w.a.event({category:"User",action:"L'entreprise "+e.state.nomSociete+" a rencontr\xe9 un probl\xe8me lors de la mise \xe0 jour du cadeaux de fid\xe9lit\xe9."}))}).catch(function(e){return console.error(e)})}},{key:"enregistrePrestation",value:function(){var e=this,t=this.state.selectedOptionPrestation;fetch(y.hostnameManuelServer+"fidapi/main.php?action=updateLimitationPrestationEntreprise&identreprise="+this.props.idUserRecup+"&prestation="+t.label+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(a){"#UPENTPNT#SUCCESS"===a?(console.log(a),e.setState({selectedOptionPrestation:t,limitPointage:t.label}),w.a.event({category:"User",action:"L'entreprise "+e.state.nomSociete+" vien de mettre \xe0 jour la limitation des prestations de sa carte."})):"#UPENTPNT#FAILED"===a?(console.log(a),e.setState({selectedOptionPrestation:t}),console.log("Option selected:",t),w.a.event({category:"User",action:"L'entreprise "+e.state.nomSociete+" n'a pas r\xe9ussi \xe0 mettre \xe0 jour les limitations de sa carte."})):"#CHGPRESTATION#FAILED"===a&&(console.log(a),e.setState({selectedOptionPrestation:t,statutUpload:"10"}),w.a.event({category:"User",action:"L'entreprise "+e.state.nomSociete+" n'a pas r\xe9ussi \xe0 mettre \xe0 jour les limitations de sa carte car il y a des pointages en cours..."}))}).catch(function(e){return console.error(e)})}},{key:"afficheStatutCarte",value:function(){return"1"===this.state.statutUpload?l.a.createElement("div",{className:"alert alert-success"},l.a.createElement("center",null,"Le design de votre carte a bien \xe9t\xe9 changer. Patientez...")):"2"===this.state.statutUpload?l.a.createElement("div",{className:"alert alert-danger"},l.a.createElement("center",null,"Le design de votre carte n'a pas \xe9t\xe9 changer. Patientez...")):"3"===this.state.statutUpload?l.a.createElement("div",{className:"alert alert-danger"},l.a.createElement("center",null,"Les dimensions de votre image ne sont pas bonne. (Dimensions requises : 600 x 300)")):"4"===this.state.statutUpload?l.a.createElement("div",{className:"alert alert-danger"},l.a.createElement("center",null,"Les dimensions de votre image ne sont pas bonne. (Dimensions requises : 600 x 300)")):"5"===this.state.statutUpload?l.a.createElement("div",{className:"alert alert-danger"},l.a.createElement("center",null,"L'extension du logo n'est pas correct. Extension autoris\xe9e : PNG.")):"6"===this.state.statutUpload?l.a.createElement("div",{className:"alert alert-success"},l.a.createElement("center",null,"La mise \xe0 jour du logo a bien \xe9t\xe9 effectuer.")):"7"===this.state.statutUpload?l.a.createElement("div",{className:"alert alert-success"},l.a.createElement("center",null,"La mise \xe0 jour du logo n'a pas \xe9t\xe9 effectuer.")):"8"===this.state.statutUpload?l.a.createElement("div",{className:"alert alert-success"},l.a.createElement("center",null,"L'upload du logo a bien \xe9t\xe9 effectuer.")):"9"===this.state.statutUpload?l.a.createElement("div",{className:"alert alert-danger"},l.a.createElement("center",null,"Les dimensions du logo ne sont pas bonne. Dimensions autoris\xe9e : 100X100.")):void 0}},{key:"render",value:function(){var e,t=this.state,a=t.selectedOption,n=t.selectedOptionPrestation,r=this.state.afflisteCadeaux.map(function(e){return{value:e.id,label:e.prestation+" - "+e.prix+"\u20ac"}});return e=this.state.loading?l.a.createElement("div",null,l.a.createElement("div",{className:"container-fluid"},l.a.createElement("img",{src:y.hostnameManuelServer+"fidapi/img/"+this.state.imgIconCarte,className:"pousseIcone",width:"75",height:"75",align:"left",alt:""}),l.a.createElement("h2",null," ",this.state.nom," ",l.a.createElement("br",null),l.a.createElement("small",null,this.state.prenom)),l.a.createElement("hr",null),l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},l.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"Informations sur votre profil"),l.a.createElement("div",{className:"dropdown no-arrow"},l.a.createElement("a",{className:"dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("i",{className:"fas fa-ellipsis-v fa-sm fa-fw text-gray-400"})),l.a.createElement("div",{className:"dropdown-menu dropdown-menu-right shadow animated--fade-in","aria-labelledby":"dropdownMenuLink"},l.a.createElement("div",{className:"dropdown-header"},"Panel :"),l.a.createElement("div",{className:"dropdown-divider"}),l.a.createElement("a",{className:"dropdown-item",href:"/modifprofil"},"Modifiez votre profil")))),l.a.createElement("div",{className:"card-body"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null)),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Email"),l.a.createElement("td",{align:"center"},this.state.email)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Adresse"),l.a.createElement("td",{align:"center"},this.state.adresse)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Code postal"),l.a.createElement("td",{align:"center"},this.state.codepostal)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Ville"),l.a.createElement("td",{align:"center"},this.state.ville)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Nom de la soci\xe9t\xe9"),l.a.createElement("td",{align:"center"},this.state.nomSociete)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Num\xe9ro de t\xe9l\xe9phone"),l.a.createElement("td",{align:"center"},this.state.telephone)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Votre secteur d'activit\xe9"),l.a.createElement("td",{align:"center"},this.state.secteur)))))),l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3"},l.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"Information sur le compte")),l.a.createElement("div",{className:"card-body"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null)),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Type de compte"),l.a.createElement("td",{align:"center"},"0"===this.state.typeCompte&&"Normal","1"===this.state.typeCompte&&"Essaie","2"===this.state.typeCompte&&"Bronze","3"===this.state.typeCompte&&"Argent","4"===this.state.typeCompte&&"Or")),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Pointage total"),l.a.createElement("td",{align:"center"},this.state.nbPointage)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"D\xe9but abonnement"),l.a.createElement("td",{align:"center"},this.state.debutAbo)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Fin abonnement"),l.a.createElement("td",{align:"center"},this.state.finAbo)),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Jours restant"),l.a.createElement("td",{align:"center"},this.state.jRestants)))))),l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3"},l.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"Information sur votre carte")),l.a.createElement("div",{className:"card-body"},this.afficheStatutCarte(),l.a.createElement("div",{className:"panelCarte"},l.a.createElement("div",{id:"personalizecarte"},l.a.createElement("img",{src:y.hostnameManuelServer+"fidapi/img/"+this.state.imgFondCarte,className:"img-fluid",id:"img1",alt:""}),l.a.createElement("img",{src:y.hostnameManuelServer+"fidapi/img/"+this.state.imgIconCarte,className:"img-fluid",id:"img2",alt:""}))),l.a.createElement("br",null),"0"!==this.props.infoTypeCompte&&l.a.createElement("div",null,l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null)),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Image de fond ( 600 x 300 )")),l.a.createElement("td",{align:"center"},this.state.imgFondCarte)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("input",{type:"file",onChange:this.fileSelect})),l.a.createElement("td",{align:"center"},l.a.createElement("button",{className:"btn btn-dark btn-block",onClick:this.fileUpload,type:"submit"},"J'upload"))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Logo ( 100x100 )")),l.a.createElement("td",{align:"center"},this.state.imgIconCarte)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("input",{type:"file",onChange:this.fileSelectLogo})),l.a.createElement("td",{align:"center"},l.a.createElement("button",{className:"btn btn-dark btn-block",onClick:this.fileUploadLogo,type:"submit"},"J'upload")))))),"0"===this.props.infoTypeCompte&&l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Vous devez upgrader votre compte pour pouvoir modifier votre carte."))),l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3"},l.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"Gestion du cadeau")),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"container"},l.a.createElement("b",null,"Cadeau :")," ",this.state.cadeaux," ",l.a.createElement("br",null),l.a.createElement("b",null,"Valeur du cadeau :")," ",l.a.createElement("span",{className:"badge badge-dark"},this.state.prixcadeaux," \u20ac"),"  ",l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("p",{className:"text-justify"},"Cette partie vous permet d'effectuer le param\xe9trage des cadeaux sur votre carte de fid\xe9lit\xe9. Les cadeaux sont d\xe9livr\xe9s lorsque votre client atteind la limitation des pointages fix\xe9 sur votre carte."),l.a.createElement(h.a,{style:{width:300},value:a,onChange:this.handleChange,options:r}),l.a.createElement("br",null),l.a.createElement("button",{type:"button",onClick:this.enregistreCadeaux.bind(this),className:"btn btn-success"},"Enregistrez")))),l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3"},l.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"Gestion des limitations de votre carte")),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"container"},"10"===this.state.statutUpload&&l.a.createElement("div",{className:"alert alert-danger"},l.a.createElement("center",null,"Vous ne pouvez pas d\xe9finir une nouvelle limite de prestation, il y a d\xe9j\xe0 des cartes non clotur\xe9s sur l'ensemble de vos clients. Vous devez attendre que l'ensemble des cartes en cours soit clotur\xe9s pour pouvoir changer la limite de prestation.")),l.a.createElement("b",null,"Limitation actuel :")," ",this.state.limitPointage," prestations",l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("p",{className:"text-justify"},"Cette partie vous permet d'effectuer un changement sur la limitation des prestations de votre carte. Cette limitation sera changer pour tous vos clients. Utilisez cette fonctionnalit\xe9 uniquement en cas de gros changements sur votre fonctionnement."),l.a.createElement(h.a,{style:{width:300},value:n,onChange:this.handleChangePrestation,options:[{value:"10",label:"10"},{value:"15",label:"15"},{value:"20",label:"20"},{value:"30",label:"30"},{value:"40",label:"40"},{value:"50",label:"50"}]}),l.a.createElement("br",null),l.a.createElement("button",{type:"button",onClick:this.enregistrePrestation.bind(this),className:"btn btn-success"},"Enregistrez")))))):l.a.createElement("div",{className:"styleLoader"},l.a.createElement("center",null,l.a.createElement(j.a,{type:"Triangle",color:"#00BFFF",height:"100",width:"100"})," ")),l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement(M,{title:"Profil"}),e),l.a.createElement(k,null))),l.a.createElement("a",{className:"scroll-to-top rounded",href:"#page-top"},l.a.createElement("i",{className:"fas fa-angle-up"})))}}]),t}(n.Component),R=a(52),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onOpenModal=function(){a.setState({open:!0})},a.onCloseModal=function(){a.setState({open:!1})},a.handleChangeSelect=function(e){a.setState({selectedOption:e,checkSelectedOption:"1"}),console.log("Option selected:",e)},a.state={nom:"",prenom:"",email:"",adresse:"",nomSociete:"",telephone:"",actuelMdp:"",retapeMdp:"",nouveauMdp:"",statutMsgMaj:"",codepostal:"",ville:"",selectedOption:null,checkSelectedOption:"",options:[],open:!1,loading:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=datadashboard&id="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){t.map(function(t,a){return e.setState({nom:t.nom,prenom:t.prenom,email:t.email,adresse:t.adresse,nomSociete:t.nomsociete,telephone:t.telephone,codepostal:t.codepostal,ville:t.ville,loading:!0})})}).catch(function(e){return console.error(e)}),fetch(y.hostnameManuelServer+"fidapi/main.php?action=selectZonage&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({options:t})}).catch(function(e){return console.error(e)})}},{key:"majEntreprise",value:function(e){var t=this;e.preventDefault();var a=this.state.selectedOption.label.split("/"),n=a[0],l=a[1];fetch(y.hostnameManuelServer+"fidapi/main.php?action=majEntreprise&ident="+this.props.idUserRecup+"&nom="+this.state.nom+"&prenom="+this.state.prenom+"&email="+this.state.email+"&adresse="+this.state.adresse+"&telephone="+this.state.telephone+"&societe="+this.state.nomSociete+"&codepostal="+n+"&ville="+l+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(e){"#MAJENT#SUCCESS"===e?(console.log(e),t.setState({statutMsgMaj:"1"}),w.a.event({category:"User",action:"L'entreprise "+t.state.nomSociete+" a mis \xe0 jour son profil."})):"#MAJENT#FAILED"===e?(console.log(e),t.setState({statutMsgMaj:"2"}),w.a.event({category:"User",action:"L'entreprise "+t.state.nomSociete+" n'a pas r\xe9ussi \xe0 mettre \xe0 jour son profil."})):"#ENT#NOEXIST"===e&&(console.log(e),t.setState({statutMsgMaj:"3"}))}).catch(function(e){return console.error(e)})}},{key:"changeMDP",value:function(e){var t=this;e.preventDefault(),this.state.nouveauMdp===this.state.retapeMdp?fetch(y.hostnameManuelServer+"fidapi/main.php?action=changeMdpEnt&ident="+this.props.idUserRecup+"&oldmdp="+this.state.actuelMdp+"&nouveaumdp="+this.state.nouveauMdp+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(e){"#MDFMDP#SUCCESS"===e?(console.log(e),t.setState({statutMsgMaj:"5",actuelMdp:"",nouveauMdp:"",retapeMdp:""}),w.a.event({category:"User",action:"L'entreprise "+t.state.nomSociete+" vien de mettre \xe0 jour son mot de passe."})):"#MDFMDP#FAILED"===e?(console.log(e),t.setState({statutMsgMaj:"6",actuelMdp:"",nouveauMdp:"",retapeMdp:""}),w.a.event({category:"User",action:"L'entreprise "+t.state.nomSociete+" n'a pas r\xe9ussi \xe0 mettre \xe0 jour son mot de passe."})):"#MDFMDP#NOSOUCHE"===e&&(console.log(e),t.setState({statutMsgMaj:"7",actuelMdp:"",nouveauMdp:"",retapeMdp:""}),w.a.event({category:"User",action:"L'entreprise "+t.state.nomSociete+" n'a pas r\xe9ussi \xe0 mettre \xe0 jour son mot de passe car ce n'est pas un compte souche."}))}).catch(function(e){return console.error(e)}):this.setState({statutMsgMaj:"4",actuelMdp:"",nouveauMdp:"",retapeMdp:""})}},{key:"afficheStatutMaj",value:function(){return"1"===this.state.statutMsgMaj?l.a.createElement("div",{className:"alert alert-success",role:"alert"},"Votre profil a bien \xe9t\xe9 mis \xe0 jour."):"2"===this.state.statutMsgMaj?l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Votre profil n'a pas \xe9t\xe9 mis \xe0 jour."):"3"===this.state.statutMsgMaj?l.a.createElement("div",{className:"alert alert-success",role:"alert"},"Ce compte entreprise n'existe pas."):"4"===this.state.statutMsgMaj?l.a.createElement("div",{className:"alert alert-danger"},"Les mots de passe ne sont pas identique."):"5"===this.state.statutMsgMaj?l.a.createElement("div",{className:"alert alert-success"},"Votre mot de passe a bien \xe9t\xe9 modifier."):"6"===this.state.statutMsgMaj?l.a.createElement("div",{className:"alert alert-danger"},"Votre mot de passe n'a pas \xe9t\xe9 modifier."):"7"===this.state.statutMsgMaj?l.a.createElement("div",{className:"alert alert-danger"},"Impossible de modifier votre profil car il y a des champs vides..."):"8"===this.state.statutMsgMaj?l.a.createElement("div",{className:"alert alert-success"},"Votre compte a \xe9t\xe9 supprimer avec succ\xe8s. Patientez..."):"9"===this.state.statutMsgMaj?l.a.createElement("div",{className:"alert alert-danger"},"Votre compte n'a pas \xe9t\xe9 supprimer. Veuillez recommencer ult\xe9rieurement..."):void 0}},{key:"suppressionDuCompte",value:function(){var e=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=suppressionCompteEntreprise&ident="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){"#SUPPRESSIONENT#SUCCESS"===t?(console.log(t),w.a.event({category:"User",action:"L'entreprise "+e.state.nomSociete+" vien de supprimer son compte."}),e.setState({statutMsgMaj:"8"}),d.a.remove("#FID#CO#SUCCESS"),d.a.remove("#FID#CO#IDUSER"),d.a.remove("#FID#CO#TYPECPT"),d.a.remove("#FID#CO#CARTEBG"),d.a.remove("#FID#CO#CARTEICON"),d.a.remove("#FID#CO#APIKEY"),setTimeout(function(){return window.location.href="/"},2500)):"#SUPPRESSIONENT#FAILED"===t&&(console.log(t),e.setState({statutMsgMaj:"9"}),w.a.event({category:"User",action:"L'entreprise "+e.state.nomSociete+" n'a pas r\xe9ussi \xe0 supprimer son compte."}))}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){var e,t=this,a=this.state.selectedOption,n=!v.a.isEmpty(this.state.nom)&&!v.a.isEmpty(this.state.prenom)&&v.a.isEmail(this.state.email)&&!v.a.isEmpty(this.state.adresse)&&!v.a.isEmpty(this.state.nomSociete)&&!v.a.isEmpty(this.state.telephone)&&!v.a.isEmpty(this.state.checkSelectedOption),r=!v.a.isEmpty(this.state.actuelMdp)&&!v.a.isEmpty(this.state.nouveauMdp)&&!v.a.isEmpty(this.state.retapeMdp),s=this.state.options.map(function(e){return{value:e.codepostal,label:e.codepostal+" / "+e.ville}});return e=this.state.loading?l.a.createElement("div",null,this.afficheStatutMaj(),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"d-sm-flex align-items-center justify-content-between mb-4"}),l.a.createElement("h2",null,this.state.nom),l.a.createElement("small",null,this.state.prenom),l.a.createElement("hr",null),l.a.createElement("div",{className:"card shadow mb-4"},l.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},l.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"})),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:this.majEntreprise.bind(this)},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},"Nom"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{type:"text",value:this.state.nom,onChange:function(e){return t.setState({nom:e.target.value})},className:"form-control"})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"col-md-6"},"Pr\xe9nom"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{type:"text",value:this.state.prenom,onChange:function(e){return t.setState({prenom:e.target.value})},className:"form-control"})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"col-md-6"},"Email"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{type:"text",value:this.state.email,onChange:function(e){return t.setState({email:e.target.value})},className:"form-control"})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"col-md-6"},"Adresse"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{type:"text",value:this.state.adresse,onChange:function(e){return t.setState({adresse:e.target.value})},className:"form-control"})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"col-6"},"Code postal"),l.a.createElement("div",{className:"col-6"},this.state.codepostal),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"col-6"},"Ville"),l.a.createElement("div",{className:"col-6"},this.state.ville),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"col-md-6"},"Nouvelle localisation"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(h.a,{value:a,onChange:this.handleChangeSelect,options:s,placeholder:"Code postal"})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"col-md-6"},"Nom de la soci\xe9t\xe9"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{type:"text",value:this.state.nomSociete,onChange:function(e){return t.setState({nomSociete:e.target.value})},className:"form-control"})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"col-md-6"},"Num\xe9ro de t\xe9l\xe9phone"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{type:"text",value:this.state.telephone,onChange:function(e){return t.setState({telephone:e.target.value})},className:"form-control"}),l.a.createElement("br",null),l.a.createElement("button",{type:"submit",disabled:!n,className:"btn btn-success btn-block"},"Sauvegarder les modifications")))),l.a.createElement("br",null),l.a.createElement("form",{onSubmit:this.changeMDP.bind(this)},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},"Mot de passe actuel :"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{type:"password",className:"form-control",value:this.state.actuelMdp,onChange:function(e){return t.setState({actuelMdp:e.target.value})},required:!0})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"col-md-6"},"Nouveau mot de passe :"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{type:"password",className:"form-control",value:this.state.actuelMdp,onChange:function(e){return t.setState({actuelMdp:e.target.value})},required:!0})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"col-md-6"},"Retapez le mot de passe :"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{type:"password",className:"form-control",value:this.state.retapeMdp,onChange:function(e){return t.setState({retapeMdp:e.target.value})},required:!0}),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-success btn-block",disabled:!r,type:"submit"},"Sauvegarder les modifications"),l.a.createElement("br",null),l.a.createElement("button",{type:"button",onClick:this.onOpenModal,className:"btn btn-danger btn-block"},"Suppression du compte")))))))):l.a.createElement("div",{className:"styleLoader"},l.a.createElement("center",null,l.a.createElement(j.a,{type:"Triangle",color:"#00BFFF",height:"100",width:"100"})," ")),l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement(M,{title:"Editez votre profil"}),e),l.a.createElement(k,null),l.a.createElement(R.a,{open:this.state.open,onClose:this.onCloseModal,center:!0},l.a.createElement("h2",null,"Suppression du compte"),l.a.createElement("hr",null),l.a.createElement("p",{className:"text-justify"},"Attention, vous \xeates sur le point de supprimer votre compte de mani\xe8re d\xe9finitive, cette action entrainera la perte d\xe9finitive de toutes vos donn\xe9es sur la plateforme mais \xe9galement les donn\xe9es de vos clients li\xe9 \xe0 votre compte entreprise. Ils ne pourront plus se connecter, ni pointer et ni consulter leurs donn\xe9es de carte de fid\xe9lit\xe9. ",l.a.createElement("br",null),"Cette action demande une r\xe9flexion, vous pouvez nous contacter en cas de questions suppl\xe9mentaire. Souhaitez-vous quand m\xeame supprimer votre compte ? ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{type:"button",onClick:this.suppressionDuCompte.bind(this),className:"btn btn-success"},"Oui"),"\xa0",l.a.createElement("button",{type:"button",onClick:this.onCloseModal,className:"btn btn-danger "},"Non"))))),l.a.createElement("a",{className:"scroll-to-top rounded",href:"#page-top"},l.a.createElement("i",{className:"fas fa-angle-up"})))}}]),t}(n.Component),A=a(65),L=a.n(A),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onOpenModal=function(){a.setState({open:!0})},a.onCloseModal=function(){a.setState({open:!1})},a.onOpenModalDeux=function(){a.setState({openDeux:!0})},a.onCloseModalDeux=function(){a.setState({openDeux:!1})},a.startColor="#4E73DF",a.endColor="#4E73DF",a.state={nombreClient:"",identifiantCompte:"",statutMsg:"",dataClient:[],emailClient:"",open:!1,openDeux:!1,value:"",loading:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=fetch(y.hostnameManuelServer+"fidapi/main.php?action=compteNombreClient&id="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}),t=fetch(y.hostnameManuelServer+"fidapi/main.php?action=listeClient&id="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}),a={apiRequest1:{},apiRequest2:{}};Promise.all([e,t]).then(function(e){a.apiRequest1=e[0],a.apiRequest2=e[1],this.setState({value:a.apiRequest1}),"#LISTECLIENT#ECHEC"===a.apiRequest2?this.setState({statutMsg:"1",loading:!0}):this.setState({dataClient:a.apiRequest2,loading:!0})}.bind(this))}},{key:"assocCompte",value:function(e){var t=this;e.preventDefault(),fetch(y.hostnameManuelServer+"fidapi/main.php?action=assoccompte&idEnt="+this.props.idUserRecup+"&idusr="+this.state.identifiantCompte+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(e){console.log(e),"#ASSOC#SUCCESS"===e?(t.setState({statutMsg:"2"}),setTimeout(function(){return window.location.href="/client"},2500)):"#ASSOC#FAILED"===e?(t.setState({statutMsg:"3"}),setTimeout(function(){return window.location.href="/client"},2500)):"#ASSOC#EXIST"===e?(t.setState({statutMsg:"4"}),setTimeout(function(){return window.location.href="/client"},2500)):"#ASSOC#NOEXIST"===e?(t.setState({statutMsg:"5"}),setTimeout(function(){return window.location.href="/client"},2500)):"#LIMITCLIENT#ATTEIND"===e&&(t.setState({statutMsg:"8"}),setTimeout(function(){return window.location.href="/client"},2500))}).catch(function(e){return console.error(e)})}},{key:"invitationClient",value:function(e){var t=this;e.preventDefault(),fetch(y.hostnameManuelServer+"fidapi/main.php?action=invitationClient&idEnt="+this.props.idUserRecup+"&getemail="+this.state.emailClient+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(e){console.log(e),"#SENDINVIT#SUCCESS"===e?t.setState({statutMsg:"6",openDeux:!1}):"#SENDINVIT#FAILED"===e&&t.setState({statutMsg:"7",openDeux:!1})}).catch(function(e){return console.error(e)})}},{key:"afficheStatut",value:function(){return"5"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-danger"},l.a.createElement("center",null,"Cette identifiant n'est li\xe9 \xe0 aucun compte ou n'est pas un compte principal.")):"6"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-success"},l.a.createElement("center",null,"Votre lien d'invitation a \xe9t\xe9 envoyer avec succ\xe8s.")):"7"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-danger"},l.a.createElement("center",null,"Votre lien d'invitation n'a pas pu \xeatre envoyer.")):void 0}},{key:"afficheStatutAssociation",value:function(){return"2"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-success"},l.a.createElement("center",null,"Le compte avec cette identifiant a bien \xe9tait associ\xe9 \xe0 votre entreprise.")):"3"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-danger"},l.a.createElement("center",null,"Le compte n'a pas p\xfb \xeatre associer \xe0 cette entreprise.")):"4"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-success"},l.a.createElement("center",null,"Ce client est d\xe9j\xe0 li\xe9 \xe0 cette entreprise.")):"8"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-danger"},"Votre compte ne vous permet pas d'associer un client suppl\xe9mentaire. Pensez \xe0 upgrader votre compte."):void 0}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.dataClient,r=a.open,s=a.openDeux,i=!v.a.isEmpty(this.state.identifiantCompte)&&v.a.isNumeric(this.state.identifiantCompte),o=v.a.isEmail(this.state.emailClient)&&!v.a.isEmpty(this.state.emailClient);return e=this.state.loading?l.a.createElement("div",null,l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"CLIENTS"),l.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.state.value)),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-calendar fa-2x text-gray-300"}))))))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("center",null,l.a.createElement("div",{className:"btn-group cadreBoutonGrouper",role:"group","aria-label":"Basic example"},l.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.onOpenModal,title:"Associ\xe9 un compte client existant"},l.a.createElement("i",{className:"fas fa-project-diagram fa-3x"})),l.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.onOpenModalDeux,title:"Envoyer une invitation d'inscription"},l.a.createElement("i",{className:"fas fa-envelope-open-text fa-3x"})))),"0"===this.props.infoTypeCompte&&l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Vous n'\xeates pas autoriser \xe0 ajouter des nouveaux clients."))),l.a.createElement("hr",null),this.afficheStatut(),l.a.createElement("br",null),l.a.createElement(L.a,{columns:[{title:"Identifiant",field:"id"},{title:"Nom",field:"nom"},{title:"Prenom",field:"prenom"},{title:"Email",field:"email"},{title:"Telephone",field:"telephone"},{title:"Adresse",field:"adresse"},{title:"Code postal",field:"codepostal"},{title:"Ville",field:"ville"}],data:n.map(function(e){return{id:e.id,nom:e.nom,prenom:e.prenom,email:e.email,telephone:e.telephone,adresse:e.adresse,codepostal:e.codepostal,ville:e.ville}}),title:"Liste de clients",actions:[{icon:"remove_red_eye",tooltip:"Voir la fiche client",onClick:function(e,t){window.location.href="/voirclient/"+t.id},iconProps:{style:{fontSize:30,color:"black"}}}],options:{actionsColumnIndex:-1}}))):l.a.createElement("div",{className:"styleLoader"},l.a.createElement("center",null,l.a.createElement(j.a,{type:"Triangle",color:"#00BFFF",height:"100",width:"100"})," ")),l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement(M,{title:"Carnet client"}),e,l.a.createElement(R.a,{open:r,onClose:this.onCloseModal,center:!0},l.a.createElement("h2",null,"Association de compte"),l.a.createElement("hr",null),this.afficheStatutAssociation(),l.a.createElement("p",{className:"text-justify"},"Si un client poss\xe8de d\xe9j\xe0 un compte sur la plateforme, il sera possible pour vous d'associer son identifiant \xe0 votre compte entreprise."),l.a.createElement("hr",null),l.a.createElement("form",{onSubmit:this.assocCompte.bind(this)},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Identifiant utilisateur...",value:this.state.identifiantCompte,onChange:function(e){return t.setState({identifiantCompte:e.target.value})}}),l.a.createElement("br",null),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-dark btn-block",disabled:!i,type:"input"},"Association du compte")))),l.a.createElement(R.a,{open:s,onClose:this.onCloseModalDeux,center:!0},l.a.createElement("h2",null,"Envoyer un lien d'invitation"),l.a.createElement("hr",null),l.a.createElement("p",{className:"text-justify"},"Entrez l'adresse email afin que l'utilisateur puisse recevoir un lien d'invitation pour s'inscrire sur la plateforme."),l.a.createElement("hr",null),l.a.createElement("form",{onSubmit:this.invitationClient.bind(this)},l.a.createElement("input",{type:"email",className:"form-control",placeholder:"Adresse email...",value:this.state.emailClient,onChange:function(e){return t.setState({emailClient:e.target.value})}}),l.a.createElement("br",null),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-dark btn-block",disabled:!o,type:"input"},"Envoyer une invitation"))))),l.a.createElement(k,null))),l.a.createElement("a",{className:"scroll-to-top rounded",href:"#page-top"},l.a.createElement("i",{className:"fas fa-angle-up"})))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({selectedOption:e,checkCPVille:"1"}),console.log("Option selected:",e)},a.state={nomClient:"",prenomClient:"",adresseClient:"",telephoneClient:"",emailClient:"",passwordClient:"",dateNaissance:"",statutMsg:"",checkCPVille:"",selectedOption:null,options:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;"0"===this.props.infoTypeCompte&&(window.location.href="/dashboard"),fetch(y.hostnameManuelServer+"fidapi/main.php?action=selectZonage&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({options:t})}).catch(function(e){return console.error(e)})}},{key:"ajoutClient",value:function(e){var t=this,a=this.state,n=a.nomClient,l=a.prenomClient,r=a.adresseClient,s=a.telephoneClient,i=a.emailClient,o=a.passwordClient,c=a.dateNaissance;e.preventDefault();var m=this.state.selectedOption.label.split("/"),u=m[0],p=m[1];fetch(y.hostnameManuelServer+"fidapi/main.php?action=ajoutClient&id="+this.props.idUserRecup+"&naissance="+c+"&nomClient="+n+"&prenomClient="+l+"&adresseClient="+r+"&telephoneClient="+s+"&emailClient="+i+"&passwordClient="+o+"&codepostal="+u+"&ville="+p+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(e){console.log(e),"#AJTCLIENT#SUCCESS"===e?(t.setState({statutMsg:"1"}),setTimeout(function(){return window.location.href="/client"},2500)):"#AJTCLIENT#ERROR"===e?(t.setState({statutMsg:"0"}),setTimeout(function(){return window.location.href="/nouveauclient"},2500)):"#AJTCLIENT#EXISTE"===e?(t.setState({statutMsg:"2"}),setTimeout(function(){return window.location.href="/nouveauclient"},2500)):"#LIMITCLIENT#ATTEIND"===e&&(t.setState({statutMsg:"3"}),setTimeout(function(){return window.location.href="/client"},2500))}).catch(function(e){return console.error(e)})}},{key:"vrfInsertion",value:function(){return"1"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-success"},"Votre client ",this.state.nomClient+" "+this.state.prenomClient," a bien \xe9t\xe9 cr\xe9er !"):"0"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-danger"},"Votre client ",this.state.nomClient+" "+this.state.prenomClient," n'a pas \xe9t\xe9 cr\xe9er !"):"2"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-danger"},"Un client avec ces informations existe d\xe9j\xe0. V\xe9rifiez l'adresse email et les autres informations s'il vous plait."):"3"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-danger"},"Votre compte ne vous permet pas d'ajouter un client suppl\xe9mentaire. Pensez \xe0 upgrader votre compte."):void 0}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedOption,n=t.dateNaissance,r=t.nomClient,s=t.prenomClient,i=t.adresseClient,o=t.checkCPVille,c=t.telephoneClient,m=t.emailClient,u=t.passwordClient,p=!v.a.isEmpty(n)&&!v.a.isEmpty(r)&&!v.a.isEmpty(s)&&!v.a.isEmpty(i)&&!v.a.isEmpty(o)&&!v.a.isEmpty(c)&&v.a.isEmail(m)&&!v.a.isEmpty(u),d=this.state.options.map(function(e){return{value:e.codepostal,label:e.codepostal+" / "+e.ville}});return l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement(M,null),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"d-sm-flex align-items-center justify-content-between mb-4"},l.a.createElement("h1",{className:"h3 mb-0 text-gray-800"},"Nouveau client")),l.a.createElement("hr",null),this.vrfInsertion(),l.a.createElement("form",{onSubmit:this.ajoutClient.bind(this)},l.a.createElement("div",{class:"form-group row"},l.a.createElement("label",{for:"staticEmail",class:"col-sm-2 col-form-label"},"Date de naissance"),l.a.createElement("div",{class:"col-sm-10"},l.a.createElement("input",{type:"date",value:this.state.dateNaissance,onChange:function(t){return e.setState({dateNaissance:t.target.value})},className:"form-control"}))),l.a.createElement("div",{class:"form-group row"},l.a.createElement("label",{for:"staticEmail",class:"col-sm-2 col-form-label"},"Nom"),l.a.createElement("div",{class:"col-sm-10"},l.a.createElement("input",{type:"text",value:this.state.nomClient,onChange:function(t){return e.setState({nomClient:t.target.value})},className:"form-control",placeholder:"Nom"}))),l.a.createElement("div",{class:"form-group row"},l.a.createElement("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"Pr\xe9nom"),l.a.createElement("div",{class:"col-sm-10"},l.a.createElement("input",{type:"text",value:this.state.prenomClient,onChange:function(t){return e.setState({prenomClient:t.target.value})},className:"form-control",placeholder:"Pr\xe9nom"}))),l.a.createElement("div",{class:"form-group row"},l.a.createElement("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"Adresse"),l.a.createElement("div",{class:"col-sm-10"},l.a.createElement("input",{type:"text",value:this.state.adresseClient,onChange:function(t){return e.setState({adresseClient:t.target.value})},className:"form-control",placeholder:"Adresse"}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{for:"inputPassword",className:"col-sm-2 col-form-label"},"CodePostal / Ville"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement(h.a,{value:a,onChange:this.handleChange,options:d,placeholder:"Code postal"}))),l.a.createElement("div",{class:"form-group row"},l.a.createElement("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"N\xb0 T\xe9l\xe9phone"),l.a.createElement("div",{class:"col-sm-10"},l.a.createElement("input",{type:"text",value:this.state.telephoneClient,onChange:function(t){return e.setState({telephoneClient:t.target.value})},className:"form-control",placeholder:"Num\xe9ro de t\xe9l\xe9phone"}))),l.a.createElement("div",{class:"form-group row"},l.a.createElement("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"Email"),l.a.createElement("div",{class:"col-sm-10"},l.a.createElement("input",{type:"email",value:this.state.emailClient,onChange:function(t){return e.setState({emailClient:t.target.value})},className:"form-control",placeholder:"Email"}))),l.a.createElement("div",{class:"form-group row"},l.a.createElement("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"Mot de passe"),l.a.createElement("div",{class:"col-sm-10"},l.a.createElement("input",{type:"password",value:this.state.passwordClient,onChange:function(t){return e.setState({passwordClient:t.target.value})},className:"form-control",placeholder:"Mot de passe"}))),l.a.createElement("div",{class:"form-group row"},l.a.createElement("div",{className:"col-sm-8"}),l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("button",{className:"btn btn-success btn-block",disabled:!p,type:"submit",id:"button-addon2"},"Ajouter")))))),l.a.createElement(k,null))),l.a.createElement("a",{className:"scroll-to-top rounded",href:"#page-top"},l.a.createElement("i",{className:"fas fa-angle-up"})))}}]),t}(n.Component),V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({selectedOption:e}),console.log("Option selected:",e)},a.state={nomClient:"",prenomClient:"",adresseClient:"",telephoneClient:"",emailClient:"",passwordClient:"",dateNaissance:"",statutMsg:"",isCheckedRGPD:!1,selectedOption:null,options:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({emailClient:this.props.match.params.emailclt}),fetch(y.hostnameManuelServer+"fidapi/main.php?action=selectZonage&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({options:t})}).catch(function(e){return console.error(e)})}},{key:"ajoutClient",value:function(e){var t=this;if(e.preventDefault(),this.state.isCheckedRGPD){var a=this.state,n=a.nomClient,l=a.prenomClient,r=a.adresseClient,s=a.telephoneClient,i=a.emailClient,o=a.passwordClient,c=a.dateNaissance,m=this.state.selectedOption.label.split("/"),u=m[0],p=m[1];fetch(y.hostnameManuelServer+"fidapi/main.php?action=ajoutInvitationClient&id="+this.props.match.params.identreprise+"&naissance="+c+"&nomClient="+n+"&prenomClient="+l+"&adresseClient="+r+"&telephoneClient="+s+"&emailClient="+i+"&passwordClient="+o+"&codepostal="+u+"&ville="+p).then(function(e){return e.json()}).then(function(e){console.log(e),"#AJTCLIENT#SUCCESS"===e?(t.setState({statutMsg:"1"}),setTimeout(function(){return window.location.href="/connexionclient"},2500)):"#AJTCLIENT#ERROR"===e?t.setState({statutMsg:"0"}):"#AJTCLIENT#EXISTE"===e?t.setState({statutMsg:"2"}):"#LIMITCLIENT#ATTEIND"===e&&t.setState({statutMsg:"3"})}).catch(function(e){return console.error(e)})}else this.setState({statutMsg:"4"})}},{key:"vrfInsertion",value:function(){return"1"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-success"},"F\xe9licitation, l'utilisateur ",this.state.nomClient+" "+this.state.prenomClient," a bien \xe9t\xe9 cr\xe9er ! Patientez..."):"0"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-danger"},"L'utilisateur ",this.state.nomClient+" "+this.state.prenomClient," n'a pas \xe9t\xe9 cr\xe9er !"):"2"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-danger"},"Un client avec ces informations existe d\xe9j\xe0. V\xe9rifiez l'adresse email ou le mot de passe s'il vous plait."):"3"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-danger"},"Le compte de l'entreprise ne vous permet pas de vous inscrire. (Le compte n'est pas upgrader.)"):"4"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-danger"},"Vous devez accepter les conditions d'utilisations pour pouvoir vous inscrire."):void 0}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedOption,n=t.dateNaissance,r=t.nomClient,s=t.prenomClient,i=t.adresseClient,o=t.telephoneClient,c=t.emailClient,m=t.passwordClient,u=!v.a.isEmpty(n)&&!v.a.isEmpty(r)&&!v.a.isEmpty(s)&&!v.a.isEmpty(i)&&!v.a.isEmpty(o)&&v.a.isEmail(c)&&!v.a.isEmpty(m),p=this.state.options.map(function(e){return{value:e.codepostal,label:e.codepostal+" / "+e.ville}});return l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement("div",{className:"container"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"d-sm-flex align-items-center justify-content-between mb-4"},l.a.createElement("h1",{className:"h3 mb-0 text-gray-800"},"Votre inscription sur FidLiZ")),l.a.createElement("hr",null),this.vrfInsertion(),l.a.createElement("form",{onSubmit:this.ajoutClient.bind(this)},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-2 col-form-label"},"Date de naissance"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"date",value:this.state.dateNaissance,onChange:function(t){return e.setState({dateNaissance:t.target.value})},className:"form-control"}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-2 col-form-label"},"Nom"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",value:this.state.nomClient,onChange:function(t){return e.setState({nomClient:t.target.value})},className:"form-control",placeholder:"Nom"}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-2 col-form-label"},"Pr\xe9nom"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",value:this.state.prenomClient,onChange:function(t){return e.setState({prenomClient:t.target.value})},className:"form-control",placeholder:"Pr\xe9nom"}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-2 col-form-label"},"Adresse"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",value:this.state.adresseClient,onChange:function(t){return e.setState({adresseClient:t.target.value})},className:"form-control",placeholder:"Adresse"}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-2 col-form-label"},"CodePostal / Ville"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement(h.a,{value:a,onChange:this.handleChange,options:p,placeholder:"Code postal"}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-2 col-form-label"},"N\xb0 T\xe9l\xe9phone"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",value:this.state.telephoneClient,onChange:function(t){return e.setState({telephoneClient:t.target.value})},className:"form-control",placeholder:"Num\xe9ro de t\xe9l\xe9phone"}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-2 col-form-label"},"Email"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"email",value:this.state.emailClient,onChange:function(t){return e.setState({emailClient:t.target.value})},className:"form-control",placeholder:"Email"}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-2 col-form-label"},"Mot de passe"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"password",value:this.state.passwordClient,onChange:function(t){return e.setState({passwordClient:t.target.value})},className:"form-control",placeholder:"Mot de passe"}))),l.a.createElement("div",{className:"form-check"},l.a.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.state.isCheckedRGPD,onChange:function(){return e.setState({isCheckedRGPD:!e.state.isCheckedRGPD})}}),l.a.createElement("label",{className:"form-check-label"},"J'accepte les ",l.a.createElement("a",{href:"/conditions-utilisations"},"conditions d'utilisations"))),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-sm-8"}),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("button",{type:"submit",disabled:!u,className:"btn btn-success btn-block"},"Inscription")))))),l.a.createElement("br",null))),l.a.createElement(k,null))),l.a.createElement("a",{className:"scroll-to-top rounded",href:"#page-top"},l.a.createElement("i",{className:"fas fa-angle-up"})))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({selectedOption:e}),console.log("Option selected:",e)},a.state={idEntreprise:a.props.idUserRecup,dataInscription:"",nomClient:"",prenomClient:"",adresseClient:"",emailClient:"",telephoneClient:"",carteTotal:"",pointageTotal:"",selectedOption:null,afflisteCadeaux:[],prestation:"",carteId:"",carteDateCreation:"",carteNom:"",cartePrenom:"",carteNbPointage:"",carteLimitPointage:"",carteStatut:"",carteCadeaux:"",carteImgBackground:"",carteImgIcon:"",carteQrCode:"",carteStatutMsg:"",cartePointageMsg:"",gainsClient:"",prestationsClients:"",value:null,loading:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=fetch(y.hostnameManuelServer+"fidapi/main.php?action=gainsClient&ident="+this.props.idUserRecup+"&idclt="+e+"&apikey="+this.props.apikey).then(function(e){return e.json()}),a=fetch(y.hostnameManuelServer+"fidapi/main.php?action=prestationsCadeauxClientsTotal&idclt="+e+"&identreprise="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}),n=fetch(y.hostnameManuelServer+"fidapi/main.php?action=voirClient&id="+e+"&identreprise="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}),l=fetch(y.hostnameManuelServer+"fidapi/main.php?action=afficheListeCadeaux&id="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}),r=fetch(y.hostnameManuelServer+"fidapi/main.php?action=prestationsCadeauxClients&idcarte="+this.state.carteId+"&idclt="+e+"&apikey="+this.props.apikey).then(function(e){return e.json()}),s={apiRequest2:{},apiRequest3:{},apiRequest4:{},apiRequest5:{},apiRequest6:{}};Promise.all([t,a,n,l,r]).then(function(e){var t=this;s.apiRequest2=e[0],s.apiRequest3=e[1],s.apiRequest4=e[2],s.apiRequest5=e[3],s.apiRequest6=e[4],s.apiRequest4.map(function(e,a){return t.setState({dataInscription:e.dinscription,nomClient:e.nom,prenomClient:e.prenom,adresseClient:e.adresse,emailClient:e.email,telephoneClient:e.telephone,carteTotal:e.nbcarteterminer,pointageTotal:e.nbpointagetotal})}),"#SLCTLISTECADEAUX#ECHEC"===s.apiRequest5?this.setState({carteStatutMsg:"10"}):this.setState({afflisteCadeaux:s.apiRequest5}),"#GTOTALCLT#VIDE"===s.apiRequest2?this.setState({gainsClient:"0"}):this.setState({gainsClient:s.apiRequest2}),"#GTTPRSTATION#VIDE"===s.apiRequest6?this.setState({prestationsClients:"0",loading:!0}):this.setState({prestationsClients:s.apiRequest6,loading:!0})}.bind(this))}},{key:"render",value:function(){var e;return e=this.state.loading?l.a.createElement("div",null,l.a.createElement("div",{className:"container-fluid"},l.a.createElement("hr",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 mb-4"},l.a.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"Gains total sur client"),l.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.state.gainsClient," \u20ac")),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-hand-holding-usd fa-2x"})))))),l.a.createElement("div",{className:"col-md-6 mb-4"},l.a.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"Prestation total offerte au client"),l.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.state.prestationsClients," \u20ac")),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-exchange-alt fa-2x"}))))))),l.a.createElement("br",null))),l.a.createElement("br",null),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null)),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Date inscription : "),l.a.createElement("td",null,this.state.dataInscription)),l.a.createElement("tr",null,l.a.createElement("td",null,"Nom : "),l.a.createElement("td",null,this.state.nomClient)),l.a.createElement("tr",null,l.a.createElement("td",null,"Pr\xe9nom : "),l.a.createElement("td",null,this.state.prenomClient)),l.a.createElement("tr",null,l.a.createElement("td",null,"Adresse : "),l.a.createElement("td",null,this.state.adresseClient)),l.a.createElement("tr",null,l.a.createElement("td",null,"Email : "),l.a.createElement("td",null,this.state.emailClient)),l.a.createElement("tr",null,l.a.createElement("td",null,"N\xb0 T\xe9l\xe9phone : "),l.a.createElement("td",null,this.state.telephoneClient)),l.a.createElement("tr",null,l.a.createElement("td",null,"Carte total : "),l.a.createElement("td",null,this.state.carteTotal)),l.a.createElement("tr",null,l.a.createElement("td",null,"Pointage total : "),l.a.createElement("td",null,this.state.pointageTotal)))),l.a.createElement("hr",null))):l.a.createElement("div",{className:"styleLoader"},l.a.createElement("center",null,l.a.createElement(j.a,{type:"Triangle",color:"#00BFFF",height:"100",width:"100"})," ")),l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement(M,{title:"Fiche client"}),e),l.a.createElement(k,null))),l.a.createElement("a",{className:"scroll-to-top rounded",href:"#page-top"},l.a.createElement("i",{className:"fas fa-angle-up"})))}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={dataPointage:[],loading:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=logpointages&ident="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){"#LOGPOINTAGE#VIDE"===t?(console.log(t),e.setState({loading:!0})):(e.setState({dataPointage:t,loading:!0}),w.a.event({category:"User",action:"L'entreprise (ID : "+e.props.idUserRecup+") consulte ses logs de pointages."}))}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){var e;return e=this.state.loading?l.a.createElement("div",null,l.a.createElement("div",{className:"container-fluid"},l.a.createElement(L.a,{columns:[{title:"Identifiant",field:"id"},{title:"Idcarte",field:"idcarte"},{title:"Client",field:"client"},{title:"Pointage",field:"finpointage"},{title:"Code",field:"code"},{title:"Prestation",field:"prestation"},{title:"Prix",field:"prix"}],data:this.state.dataPointage.map(function(e){return{id:e.id,idcarte:"IDC"+e.idcarte,client:e.client,finpointage:e.finpointage,code:e.code,prestation:e.prestation,prix:e.prix+" \u20ac"}}),title:"Pointages"}),l.a.createElement("br",null))):l.a.createElement("div",{className:"styleLoader"},l.a.createElement("center",null,l.a.createElement(j.a,{type:"Triangle",color:"#00BFFF",height:"100",width:"100"})," ")),l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement(M,{title:"Suivit du pointage"}),e),l.a.createElement(k,null))),l.a.createElement("a",{className:"scroll-to-top rounded",href:"#page-top"},l.a.createElement("i",{className:"fas fa-angle-up"})))}}]),t}(n.Component),B=[],K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onOpenModal=function(){a.setState({open:!0})},a.onCloseModal=function(){a.setState({open:!1})},a.onOpenModalDeux=function(){a.setState({openDeux:!0})},a.onCloseModalDeux=function(){a.setState({openDeux:!1})},a.onOpenModalTrois=function(){a.setState({openTrois:!0})},a.onCloseModalTrois=function(){a.setState({openTrois:!1})},a.onOpenModalQuatre=function(){a.setState({openQuatre:!0})},a.onCloseModalQuatre=function(){a.setState({openQuatre:!1})},a.handleChange=function(e){a.setState({selectedOption:e}),console.log("Option selected:",e)},a.state={cadeaux:[],cadeauxInactive:[],maprestation:"",maprestationGrp:"",prix:"",prixGrp:"",statutListeCadeaux:"",statutListeCadeauxInactive:"",gestionInterface:"1",celluleDesactivation:"0",cellulePrixTotal:"0",celluleNomPrestation:"",celluleGrp:"",activeDegroupage:!1,open:!1,openDeux:!1,openTrois:!1,openQuatre:!1,selectedOption:null,totalMultiplePrix:"",lstProduitGrp:[],options:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=fetch(y.hostnameManuelServer+"fidapi/main.php?action=afficheListeCadeaux&id="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}),t=fetch(y.hostnameManuelServer+"fidapi/main.php?action=afficheListeCadeauxInactive&id="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}),a=fetch(y.hostnameManuelServer+"fidapi/main.php?action=selectionPrestation&identreprise="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}),n={apiRequest1:{},apiRequest2:{},apiRequest3:{}};Promise.all([e,t,a]).then(function(e){n.apiRequest1=e[0],n.apiRequest2=e[1],n.apiRequest3=e[2],console.log(n.apiRequest1),"#SLCTLISTECADEAUX#ECHEC"===n.apiRequest1?this.setState({statutListeCadeaux:"1"}):this.setState({cadeaux:n.apiRequest1}),console.log(n.apiRequest2),"#SLCTLISTECADEAUXINACTIF#ECHEC"===n.apiRequest2?this.setState({statutListeCadeauxInactive:"1"}):this.setState({cadeauxInactive:n.apiRequest2}),this.setState({options:n.apiRequest3,loading:!0})}.bind(this))}},{key:"ajoutPrestation",value:function(){var e=this;alert("Prestation : "+this.state.maprestation+"\nPrix : "+this.state.prix),fetch(y.hostnameManuelServer+"fidapi/main.php?action=ajoutCadeaux&id="+this.props.idUserRecup+"&prestation="+this.state.maprestation+"&prix="+this.state.prix+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){console.log(t),"#AJTCADEAUX#SUCCESS"===t?(e.onCloseModal(),e.setState({statutAjtCadeaux:"1"}),w.a.event({category:"User",action:"L'entreprise (ID : "+e.props.idUserRecup+") a ajouter une prestation ("+e.state.maprestation+" "+e.state.prix+" \u20ac)."}),setTimeout(function(){return window.location.href="/prestations"},2e3)):"#AJTCADEAUX#ECHEC"===t?(e.onCloseModal(),e.setState({statutAjtCadeaux:"2"}),w.a.event({category:"User",action:"L'entreprise (ID : "+e.props.idUserRecup+") n'a pas r\xe9ussi \xe0 ajouter la prestation ("+e.state.maprestation+" "+e.state.prix+" \u20ac)."})):"#AJTCADEAUX#EXISTE"===t&&(e.onCloseModal(),e.setState({statutAjtCadeaux:"3"}),w.a.event({category:"User",action:"L'entreprise (ID : "+e.props.idUserRecup+") n'a pas r\xe9ussi \xe0 ajouter la prestation ("+e.state.maprestation+" "+e.state.prix+" \u20ac) car elle existe."}))}).catch(function(e){return console.error(e)})}},{key:"afficheStatutCadeaux",value:function(){return"1"===this.state.statutAjtCadeaux?l.a.createElement("div",{className:"alert alert-success"},"Votre prestation a bien \xe9t\xe9 ajouter !"):"2"===this.state.statutAjtCadeaux?l.a.createElement("div",{className:"alert alert-danger"},"Votre prestation n'a pas pu \xeatre ajouter ! Veuillez recommencer s'il vous plait."):"3"===this.state.statutAjtCadeaux?l.a.createElement("div",{className:"alert alert-danger"},"Votre prestation existe d\xe9j\xe0 sous ce nom."):"4"===this.state.statutAjtCadeaux?l.a.createElement("div",{className:"alert alert-success"},"Votre prestation a bien \xe9t\xe9 d\xe9sactiver."):"5"===this.state.statutAjtCadeaux?l.a.createElement("div",{className:"alert alert-danger"},"Votre prestation n'a pas \xe9t\xe9 d\xe9sactiver."):"6"===this.state.statutAjtCadeaux?l.a.createElement("div",{className:"alert alert-success"},"Votre prestation a bien \xe9t\xe9 activer."):"7"===this.state.statutAjtCadeaux?l.a.createElement("div",{className:"alert alert-danger"},"Votre prestation n'a pas \xe9t\xe9 activer."):"8"===this.state.statutAjtCadeaux?l.a.createElement("div",{className:"alert alert-success"},"Votre prestation a bien \xe9t\xe9 supprimer."):"9"===this.state.statutAjtCadeaux?l.a.createElement("div",{className:"alert alert-danger"},"Votre prestation n'a pas \xe9t\xe9 supprimer."):"10"===this.state.statutAjtCadeaux?l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Veuillez s\xe9lectionnez une prestation avant d'utiliser cette action."):void 0}},{key:"activeCadeaux",value:function(e){var t=this;"0"===e?this.setState({statutAjtCadeaux:"10"}):fetch(y.hostnameManuelServer+"fidapi/main.php?action=activePrestation&id="+e+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(e){console.log(e),"#ENABLEGIFT#SUCCESS"===e?(t.setState({statutAjtCadeaux:"6"}),w.a.event({category:"User",action:"L'entreprise (ID : "+t.props.idUserRecup+") a activ\xe9 une prestation."}),setTimeout(function(){return window.location.href="/prestations"},1e3)):"#ENABLEGIFT#ECHEC"===e&&(t.setState({statutAjtCadeaux:"7"}),w.a.event({category:"User",action:"L'entreprise (ID : "+t.props.idUserRecup+") n'a pas r\xe9ussi \xe0 activ\xe9 une prestation."}))}).catch(function(e){return console.error(e)})}},{key:"desactiveCadeaux",value:function(e){var t=this;"0"===e?this.setState({statutAjtCadeaux:"10"}):fetch(y.hostnameManuelServer+"fidapi/main.php?action=desactivePrestation&id="+e+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(e){console.log(e),"#DISABLEGIFT#SUCCESS"===e?(t.setState({statutAjtCadeaux:"4"}),w.a.event({category:"User",action:"L'entreprise (ID : "+t.props.idUserRecup+") a desactiv\xe9 une prestation."}),setTimeout(function(){return window.location.href="/prestations"},1e3)):"#DISABLEGIFT#ECHEC"===e&&(t.setState({statutAjtCadeaux:"5"}),w.a.event({category:"User",action:"L'entreprise (ID : "+t.props.idUserRecup+") n'a pas r\xe9ussi \xe0 desactiv\xe9 une prestation."}))}).catch(function(e){return console.error(e)})}},{key:"suppressionCadeaux",value:function(e){var t=this;"0"===e?this.setState({statutAjtCadeaux:"10"}):fetch(y.hostnameManuelServer+"fidapi/main.php?action=suppressionPrestation&id="+e+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(e){console.log(e),"#DELETEGIFT#SUCCESS"===e?(t.setState({statutAjtCadeaux:"8"}),w.a.event({category:"User",action:"L'entreprise (ID : "+t.props.idUserRecup+") a supprim\xe9 une prestation."}),setTimeout(function(){return window.location.href="/prestations"},1e3)):"#DELETE#ECHEC"===e&&(t.setState({statutAjtCadeaux:"9"}),w.a.event({category:"User",action:"L'entreprise (ID : "+t.props.idUserRecup+") n'a pas r\xe9ussi \xe0 supprim\xe9 une prestation."}))}).catch(function(e){return console.error(e)})}},{key:"afficheDegroupage",value:function(){if(!0===this.state.activeDegroupage)return l.a.createElement("button",{type:"button",onClick:this.onOpenModalTrois,title:"Voir ou d\xe9groupage du produit",className:"btn btn-dark"},l.a.createElement("i",{className:"fas fa-unlink"}))}},{key:"appelDataGroupage",value:function(e,t){var a=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=afficheListeCadeauxGroupe&id="+this.props.idUserRecup+"&idprestation="+e+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(e){"#LISTECADEAUXGRP#ECHEC"===e?alert("Cette prestation n'est pas group\xe9e."):a.setState({lstProduitGrp:e,cellulePrixTotal:t})}).catch(function(e){return console.error(e)})}},{key:"dissolutionGroupage",value:function(e){var t=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=dissolutionGroupage&id="+this.props.idUserRecup+"&idprestation="+e+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(a){"#DISSOLUTION#SUCCESS"===a&&(console.log(a),w.a.event({category:"User",action:"L'entreprise (ID : "+t.props.idUserRecup+") vien de dissoudre le produit group\xe9 (N\xb0 "+e+")."}),window.location.href="/prestations")}).catch(function(e){return console.error(e)})}},{key:"appelModifierPrestation",value:function(){this.onOpenModalQuatre()}},{key:"modifierPrestation",value:function(e,t){var a=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=modificationProduit&idprestation="+e+"&nomprestation="+t+"&prixprestation="+this.state.cellulePrixTotal+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(e){"#MDFPRODUIT#SUCCESS"===e&&(console.log(e),w.a.event({category:"User",action:"L'entreprise (ID : "+a.props.idUserRecup+") a modifier la prestation ("+t+" "+a.state.cellulePrixTotal+" \u20ac)."}),window.location.href="/prestations")}).catch(function(e){return console.error(e)})}},{key:"ajoutMultiple",value:function(){var e={label:this.state.maprestationGrp,prix:this.state.prixGrp};B.push(e);var t=0;for(var a in B)t+=parseFloat(B[a].prix);this.setState({maprestationGrp:"",totalMultiplePrix:t,prixGrp:""}),console.log(B)}},{key:"addGroupement",value:function(e,t,a){var n=this;B.map(function(n){fetch(y.hostnameManuelServer+"fidapi/main.php?action=ajoutCadeauxGroupage&id="+t+"&idprincipalproduit="+e+"&prestation="+n.label+"&prix="+n.prix+"&apikey="+a).then(function(e){return e.json()}).then(function(e){"#AJTCADEAUX#SUCCESS"===e&&console.log(e)}).catch(function(e){return console.error(e)})}),fetch(y.hostnameManuelServer+"fidapi/main.php?action=majProduitTotal&idprincipalproduit="+e+"&sommetotal="+this.state.totalMultiplePrix+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(e){"#MAJPRDTOTAL#SUCCESS"===e?(console.log(e),n.onCloseModalDeux(),w.a.event({category:"User",action:"L'entreprise (ID : "+n.props.idUserRecup+") a ajouter un produit group\xe9 (Valeur total : "+n.state.totalMultiplePrix+" \u20ac)."}),setTimeout(function(){return window.location.href="/prestations"},1500)):"#MAJPRDTOTAL#FAILED"===e&&console.log(e)}).catch(function(e){return console.error(e)})}},{key:"getSumMultiple",value:function(){var e=0;for(var t in B)e+=parseFloat(B[t].prix);this.setState({totalMultiplePrix:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.open,n=t.openDeux,r=t.openTrois,s=t.openQuatre,i=this.state,o=i.selectedOption,c=i.maprestation,m=i.prix,u=i.maprestationGrp,p=i.prixGrp,d=!v.a.isEmpty(c)&&!v.a.isEmpty(m)&&v.a.isNumeric(m),E=!v.a.isEmpty(u)&&!v.a.isEmpty(p)&&v.a.isNumeric(p),f=this.state.options.map(function(e){return{value:e.id,label:e.prestation+" - "+e.prix+" \u20ac "}}),g={whiteSpace:"pre"};return l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement(M,{title:"Gestion des prestations"}),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",null,l.a.createElement("div",{className:"card card-body bg-white"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"d-sm-flex align-items-center justify-content-between mb-4"}),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("button",{type:"submit",onClick:this.onOpenModal,className:"btn btn-dark btn-block"},l.a.createElement("i",{className:"fas fa-exchange-alt"})," Prestation simple"),l.a.createElement("button",{type:"submit",onClick:this.onOpenModalDeux,className:"btn btn-dark btn-block"},l.a.createElement("i",{className:"fas fa-exchange-alt"})," Prestations multiples")))),l.a.createElement("br",null),l.a.createElement("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link active",id:"home-tab","data-toggle":"tab",href:"#home",role:"tab","aria-controls":"home","aria-selected":"true"},"Prestations actives")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",id:"profile-tab","data-toggle":"tab",href:"#profile",role:"tab","aria-controls":"profile","aria-selected":"false"},"Prestations inactives"))),this.afficheStatutCadeaux(),l.a.createElement("div",{className:"tab-content",id:"myTabContent"},l.a.createElement("div",{className:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"home-tab"},l.a.createElement(L.a,{columns:[{title:"Identifiant",field:"id"},{title:"Prestation",field:"prestation"},{title:"Prix",field:"prix"},{title:"Prestation multiples",field:"prdtgrp"}],data:this.state.cadeaux.map(function(e){var t="";return"0"===e.prdtgrp?t="":"1"===e.prdtgrp&&(t="Produit group\xe9"),{id:e.id,prestation:e.prestation,prix:e.prix+" \u20ac",prdtgrp:t}}),title:"Prestations actives",actions:[{icon:"file_copy",tooltip:"Consultation du groupage de produits",onClick:function(t,a){"Produit group\xe9"===a.prdtgrp&&(e.appelDataGroupage(a.id,a.prix),e.onOpenModalTrois(),e.setState({celluleDesactivation:a.id}))},iconProps:{style:{fontSize:30,color:"green"}}},{icon:"edit",tooltip:"Edition du produit",onClick:function(t,a){var n=a.prix.split(" ");console.log(n[0]),e.setState({celluleNomPrestation:a.prestation,celluleGrp:a.prdtgrp,celluleDesactivation:a.id,cellulePrixTotal:n[0]}),e.appelModifierPrestation()},iconProps:{style:{fontSize:30,color:"green"}}},{icon:"clear",tooltip:"D\xe9sactivation du produit",onClick:function(t,a){e.desactiveCadeaux(a.id)},iconProps:{style:{fontSize:30,color:"orange"}}}],options:{actionsColumnIndex:-1}})),l.a.createElement("div",{className:"tab-pane fade",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab"},l.a.createElement(L.a,{columns:[{title:"Identifiant",field:"id"},{title:"Prestation",field:"prestation"},{title:"Prix",field:"prix"}],data:this.state.cadeauxInactive.map(function(e){return{id:e.id,prestation:e.prestation,prix:e.prix+" \u20ac"}}),title:"Prestations inactives",actions:[{icon:"check",tooltip:"Activation du produit",onClick:function(t,a){e.activeCadeaux(a.id)},iconProps:{style:{fontSize:30,color:"green"}}},{icon:"clear",tooltip:"Suppression du produit",onClick:function(t,a){e.suppressionCadeaux(a.id)},iconProps:{style:{fontSize:30,color:"red"}}}],options:{actionsColumnIndex:-1}})))),l.a.createElement(R.a,{open:a,onClose:this.onCloseModal,center:!0},l.a.createElement("h2",null,"Prestation simple"),l.a.createElement("hr",null),l.a.createElement("form",null,l.a.createElement("div",{className:"form-inline"},l.a.createElement("div",{className:"form-group mb-2"},l.a.createElement("label",{className:"sr-only"},"Email"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Ma prestation",value:this.state.maprestation,onChange:function(t){return e.setState({maprestation:t.target.value})}}),"                        "),l.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},l.a.createElement("label",{className:"sr-only"},"Password"),l.a.createElement("input",{type:"number",className:"form-control",placeholder:"Prix",value:this.state.prix,onChange:function(t){return e.setState({prix:t.target.value})}}),"                        "),l.a.createElement("button",{type:"button",onClick:this.ajoutPrestation.bind(this),disabled:!d,className:"btn btn-primary"},"Ajouter")))),l.a.createElement(R.a,{open:n,onClose:this.onCloseModalDeux,center:!0},l.a.createElement("h2",null,"Prestations multiples"),l.a.createElement("hr",null),l.a.createElement("label",null,"Prestation global"),l.a.createElement(h.a,{value:o,onChange:this.handleChange,options:f}),l.a.createElement("hr",null),l.a.createElement("p",null,"Vous pouvez additionnez autant de prestation que vous voulez afin de cr\xe9er une prestation group\xe9e."),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-11"},l.a.createElement("div",{className:"form-inline"},l.a.createElement("div",{className:"form-group mb-4"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Ma prestation",value:this.state.maprestationGrp,onChange:function(t){return e.setState({maprestationGrp:t.target.value})}})),l.a.createElement("div",{className:"form-group mx-sm-3 mb-4"},l.a.createElement("input",{type:"number",className:"form-control",placeholder:"Prix",value:this.state.prixGrp,onChange:function(t){return e.setState({prixGrp:t.target.value})}})))),l.a.createElement("div",{className:"col-md-1"},l.a.createElement("button",{type:"button",disabled:!E,onClick:this.ajoutMultiple.bind(this),className:"btn btn-dark"},l.a.createElement("i",{className:"fas fa-plus-circle"})))),l.a.createElement("hr",null),l.a.createElement("p",{style:g},B.map(function(e){return"- ".concat(e.label," : ").concat(e.prix,"\n")})),l.a.createElement("p",{className:"text-right"},"Nouvelle valeur total : ",this.state.totalMultiplePrix," \u20ac"),l.a.createElement("hr",null),l.a.createElement("button",{type:"button",align:"center",onClick:function(){return e.addGroupement(e.state.selectedOption.value,e.props.idUserRecup,e.props.apikey)},className:"btn btn-success"},"Cr\xe9ation du groupement de produit")),l.a.createElement(R.a,{open:r,onClose:this.onCloseModalTrois,center:!0},l.a.createElement("h2",null,"Fiche prestation multiple"),l.a.createElement("hr",null),l.a.createElement("p",{style:g},this.state.lstProduitGrp.map(function(e){return"- ".concat(e.prestation," : ").concat(e.prix," \u20ac\n")})),l.a.createElement("p",{className:"text-right"},"Valeur total de la prestation : ",this.state.cellulePrixTotal),l.a.createElement("hr",null),l.a.createElement("button",{type:"button",onClick:function(){return e.dissolutionGroupage(e.state.celluleDesactivation)},className:"btn btn-danger"},"Dissolution du groupage.")),l.a.createElement(R.a,{open:s,onClose:this.onCloseModalQuatre,center:!0},l.a.createElement("h2",null,"Modifier votre prestation"),l.a.createElement("hr",null),l.a.createElement("div",{className:"form-inline"},l.a.createElement("div",{className:"form-group mb-2"},l.a.createElement("label",{className:"sr-only"},"Email"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Ma prestation",value:this.state.celluleNomPrestation,onChange:function(t){return e.setState({celluleNomPrestation:t.target.value})}})),""===this.state.celluleGrp&&l.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},l.a.createElement("input",{type:"number",className:"form-control",placeholder:"Prix",value:this.state.cellulePrixTotal,onChange:function(t){return e.setState({cellulePrixTotal:t.target.value})}})),"Produit group\xe9"===this.state.celluleGrp&&l.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},l.a.createElement("input",{type:"number",className:"form-control",placeholder:"Prix",value:this.state.cellulePrixTotal,onChange:function(t){return e.setState({cellulePrixTotal:t.target.value})},disabled:!0})),l.a.createElement("button",{type:"submit",onClick:function(){return e.modifierPrestation(e.state.celluleDesactivation,e.state.celluleNomPrestation)},className:"btn btn-primary"},"Modifier la prestation"))))),l.a.createElement(k,null))))}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.label.split(" - ");fetch(y.hostnameManuelServer+"fidapi/main.php?action=updatePrestationEntreprise&identreprise="+a.props.idUserRecup+"&prestation="+t[0]+"&prix="+t[1].substring(0,t[1].length-1)+"&apikey="+a.props.apikey).then(function(e){return e.json()}).then(function(n){"#UPENTPRESTA#SUCCESS"===n?(console.log(n),a.setState({selectedOption:e,prestation:t[0],prix:t[1].substring(0,t[1].length-1)}),console.log("Option selected:",e),w.a.event({category:"User",action:"L'entreprise (ID : "+a.props.idUserRecup+") a mis \xe0 jour sa prestation pour son pointage ("+t[0]+" "+t[1].substring(0,t[1].length-1)+" \u20ac)."})):"#UPENTPRESTA#FAILED"===n&&(console.log(n),a.setState({selectedOption:e,prestation:t[0],prix:t[1].substring(0,t[1].length-1)}),console.log("Option selected:",e),w.a.event({category:"User",action:"L'entreprise (ID : "+a.props.idUserRecup+") n'a pas r\xe9ussi \xe0 mettre \xe0 jour sa prestation pour son pointage."}))}).catch(function(e){return console.error(e)})},a.state={qrcode:"",activation:"",selectedOption:null,afflisteCadeaux:[],prestation:"",prix:"",afficheDernierPointage:[],statut:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=datadashboard&id="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){t.map(function(t){return e.setState({qrcode:t.qrcode,activation:t.activation,prestation:t.prestation,prix:t.prix})})}).catch(function(e){return console.error(e)}),fetch(y.hostnameManuelServer+"fidapi/main.php?action=afficheListeCadeaux&id="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){e.setState({afflisteCadeaux:t})}).catch(function(e){return console.error(e)}),fetch(y.hostnameManuelServer+"fidapi/main.php?action=voirDernierPointageCarte&id="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){"#LASTPOINTAGE#VIDE"===t?console.log(t):e.setState({afficheDernierPointage:t})}).catch(function(e){return console.error(e)})}},{key:"resetPointage",value:function(){var e=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=resetPointage&identreprise="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){"#RESETPRESTA#SUCCESS"===t?(console.log(t),e.setState({selectedOption:null,prestation:"Vide",prix:"0"}),w.a.event({category:"User",action:"L'entreprise (ID : "+e.props.idUserRecup+") a r\xe9initialis\xe9 son pointage \xe0 z\xe9ro."})):"#RESETPRESTA#FAILED"===t&&(console.log(t),e.setState({selectedOption:null,prestation:"Vide",prix:"0"}),w.a.event({category:"User",action:"L'entreprise (ID : "+e.props.idUserRecup+") n'a pas r\xe9ussi \xe0 r\xe9initialis\xe9 son pointage \xe0 z\xe9ro."}))}).catch(function(e){return console.error(e)})}},{key:"activeCarte",value:function(){var e=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=activeCarte&id="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){console.log(t),"#ENABLEDCARD#UPGRADE"===t?(e.setState({statut:"1"}),w.a.event({category:"User",action:"L'entreprise (ID : "+e.props.idUserRecup+") n'a pas r\xe9ussi \xe0 activ\xe9 sa carte de fid\xe9lit\xe9 (Upgrade n\xe9cessaire)."})):"#ENABLEDCARD#SUCCESS"===t&&(w.a.event({category:"User",action:"L'entreprise (ID : "+e.props.idUserRecup+") a activ\xe9 sa carte de fid\xe9lit\xe9."}),setTimeout(function(){return window.location.href="/productivite"},250))}).catch(function(e){return console.error(e)})}},{key:"desactiveCarte",value:function(){var e=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=desactiveCarte&id="+this.props.idUserRecup+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){console.log(t),setTimeout(function(){return window.location.href="/productivite"},250),w.a.event({category:"User",action:"L'entreprise (ID : "+e.props.idUserRecup+") a d\xe9sactiv\xe9 sa carte de fid\xe9lit\xe9."})}).catch(function(e){return console.error(e)})}},{key:"checkEtatCarte",value:function(){return"1"===this.state.activation?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("h6",null,"Etat de la carte : ",l.a.createElement("span",{className:"badge badge-success"},"Activ\xe9"))),l.a.createElement("div",{className:"col-6 text-right"},l.a.createElement("button",{type:"button",onClick:this.desactiveCarte.bind(this),className:"btn btn-danger btn-sm"},"D\xe9sactiv\xe9"))):"0"===this.state.activation?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("h6",null,"Etat de la carte : ",l.a.createElement("span",{className:"badge badge-danger"},"D\xe9sactiv\xe9"))),l.a.createElement("div",{className:"col-6 text-right"},l.a.createElement("button",{type:"button",onClick:this.activeCarte.bind(this),className:"btn btn-success btn-sm"},"Activ\xe9"))):void 0}},{key:"afficheStatut",value:function(){if("1"===this.state.statut)return l.a.createElement("div",{className:"alert alert-warning"},l.a.createElement("center",null,"Vous ne pouvez pas activ\xe9 votre carte car votre compte n'est pas upgrader."))}},{key:"render",value:function(){var e=a(736),t=this.state.selectedOption,n=this.state.afflisteCadeaux.map(function(e){return{value:e.id,label:e.prestation+" - "+e.prix+"\u20ac"}});return l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement(M,{title:"Mode fid\xe9lit\xe9"}),l.a.createElement("div",{className:"container"},this.afficheStatut(),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("center",null,l.a.createElement(e,{value:this.state.qrcode,size:250,className:"img-responsive"}),l.a.createElement("br",null),l.a.createElement("b",null,"Prestation :")," ",this.state.prestation," - ",this.state.prix," \u20ac"),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"panelCarte"},l.a.createElement("div",{id:"personalizecarte"},l.a.createElement("img",{src:y.hostnameManuelServer+"fidapi/img/"+this.props.bkdgCarte,className:"img-fluid",id:"img1",alt:""}),l.a.createElement("img",{src:y.hostnameManuelServer+"fidapi/img/"+this.props.iconCarte,className:"img-fluid",id:"img2",alt:""}))))),l.a.createElement("div",{className:"cadrePointage"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-11"},l.a.createElement(h.a,{style:{width:300},value:t,onChange:this.handleChange,options:n})),l.a.createElement("div",{className:"col-1"},l.a.createElement("button",{type:"button",title:"Aucune prestation",onClick:this.resetPointage.bind(this),className:"btn btn-dark"},l.a.createElement("i",{className:"fas fa-times-circle"}))))),l.a.createElement("div",{className:"cadrePointage"},this.checkEtatCarte()),this.state.afficheDernierPointage.map(function(e){return l.a.createElement("div",{className:"cadrePointage"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("b",null,e.client),l.a.createElement("br",null),l.a.createElement("small",null,e.prestation)),l.a.createElement("div",{className:"col-6 text-right"},l.a.createElement("span",{className:"badge badge-dark"},e.prix," \u20ac"),l.a.createElement("br",null),l.a.createElement("small",null,e.finpointage))))}),l.a.createElement("br",null),l.a.createElement("br",null))),l.a.createElement(k,null))),l.a.createElement("a",{className:"scroll-to-top rounded",href:"#page-top"},l.a.createElement("i",{className:"fas fa-angle-up"})))}}]),t}(n.Component),Y=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"deconnexion",value:function(){d.a.remove("#FID#COCLIENT#SUCCESS"),d.a.remove("#FID#COCLIENT#IDUSER"),d.a.remove("#FID#COCLIENT#IDENT"),window.location.href="/"}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},l.a.createElement("a",{className:"navbar-brand",href:"/fichecoclient"},"FIDLIZ")),l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-white bg-white"},l.a.createElement("a",{className:"navbar-brand",href:"/fichecoclient"},this.props.title),l.a.createElement("button",{className:"navbar-toggler bg-dark",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon text"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement("a",{className:"nav-link",href:"/fichecoclient"},l.a.createElement("i",{className:"fas fa-user"})," Profil ",l.a.createElement("span",{className:"sr-only"},"(current)"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/mescadeaux"},l.a.createElement("i",{className:"fas  fa-fw fa-gifts"})," Mes cadeaux fid\xe9lit\xe9s")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",onClick:this.deconnexion.bind(this),href:"/connexionclient"},l.a.createElement("i",{className:"fas fa-sign-out-alt"})," D\xe9connexion"))))))}}]),t}(n.Component),X=a(330),H=a.n(X),Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onOpenModal=function(){a.setState({open:!0})},a.onCloseModal=function(){a.setState({open:!1}),fetch(y.hostnameManuelServer+"fidapi/main.php?action=resetRatingClient&idclient="+a.props.idUserRecupClient+"&apikey="+a.props.apikey).then(function(e){return e.json()}).then(function(e){console.log(e)}).catch(function(e){return console.error(e)})},a.state={idEntreprise:a.props.idUserRecup,dataInscription:"",nomClient:"",prenomClient:"",adresseClient:"",emailClient:"",telephoneClient:"",carteTotal:"",nbpointage:"",pointageTotal:"",prestationsClients:"",rating:"0",open:!1,listePointage:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;!function(){var e=document.createElement("script");e.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",e.async=!0,e.defer=!0,document.body.insertBefore(e,document.body.firstChild)}(),(window.adsbygoogle=window.adsbygoogle||[]).push({}),fetch(y.hostnameManuelServer+"fidapi/main.php?action=voirClient&id="+this.props.idUserRecupClient+"&identreprise="+this.props.idEntRecupClient+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){t.map(function(t,a){return e.setState({identifiantclient:t.id,dataInscription:t.dinscription,nomClient:t.nom,prenomClient:t.prenom,adresseClient:t.adresse,emailClient:t.email,telephoneClient:t.telephone,nbpointage:t.nbpointage,carteTotal:t.nbcarteterminer,pointageTotal:t.nbpointagetotal,rating:t.rating,codepostal:t.codepostal,ville:t.ville})}),"1"===e.state.rating&&e.setState({open:!0})}).catch(function(e){return console.error(e)}),fetch(y.hostnameManuelServer+"fidapi/main.php?action=prestationsCadeauxClientsTotal&idclt="+this.props.idUserRecupClient+"&identreprise="+this.props.idEntRecupClient+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){"#GTTPRSTATION#VIDE"===t?(console.log(t),e.setState({prestationsClients:"0"})):(console.log(t),e.setState({prestationsClients:t}))}).catch(function(e){return console.error(e)}),fetch(y.hostnameManuelServer+"fidapi/main.php?action=listePointageClient&idclient="+this.props.idUserRecupClient+"&ident="+this.props.idEntRecupClient+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){switch(t){case"#POINTAGE#VIDE":console.log(t),e.setState({cartePointageMsg:"5"});break;default:console.log(t),e.setState({listePointage:t})}}).catch(function(e){return console.error(e)})}},{key:"verifieEtatPointage",value:function(){return"2"===this.state.cartePointageMsg?l.a.createElement("div",{className:"alert alert-danger"},"Aucune carte de fid\xe9lit\xe9 n'est li\xe9e \xe0 ce compte."):"3"===this.state.cartePointageMsg?l.a.createElement("div",{className:"alert alert-success"},"Votre pointage a bien \xe9t\xe9 valider. Patientez..."):"4"===this.state.cartePointageMsg?l.a.createElement("div",{className:"alert alert-danger"},"Votre pointage n'a pas \xe9t\xe9 valider."):void 0}},{key:"afficheListePointage",value:function(){return"5"===this.state.carteStatutMsg?l.a.createElement("div",{className:"alert alert-danger"},"Aucun pointage \xe0 afficher."):this.state.listePointage.map(function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.entreprise),l.a.createElement("td",null,e.finpointage),l.a.createElement("td",null,e.prestation),l.a.createElement("td",null,e.prix," \u20ac"))})}},{key:"getRating",value:function(e){var t=this;console.log("Note attribu\xe9e : "+e);var a="0",n=new Date;switch(e){case 1:a="0";break;case 2:a="2.5";break;case 3:a="5";break;case 4:a="7.5";break;case 5:a="10"}fetch(y.hostnameManuelServer+"fidapi/main.php?action=notationClient&identreprise="+this.props.idEntRecupClient+"&idclient="+this.props.idUserRecupClient+"&score="+a+"&date="+n+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(e){console.log(e),"#NOTATION#SUCCESS"===e&&fetch(y.hostnameManuelServer+"fidapi/main.php?action=resetRatingClient&idclient="+t.props.idUserRecupClient).then(function(e){return e.json()}).then(function(e){console.log(e),"#RESETRATING#SUCCESS"===e&&t.setState({open:!1})}).catch(function(e){return console.error(e)})}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){var e=this.state.open;return l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement(Y,{title:"Fiche client"}),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("br",null),l.a.createElement("h3",null,"BIENVENUE, ",this.state.nomClient," ",this.state.prenomClient)),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("br",null),l.a.createElement("div",{align:"right"},l.a.createElement("a",{className:"btn btn-dark",href:"/archives",role:"button"},l.a.createElement("i",{title:"Visualisation des archives de carte",className:"fab fa-cc-discover fa-4x"})),"\xa0",l.a.createElement("a",{className:"btn btn-dark",href:"/logpointages",role:"button"},l.a.createElement("i",{title:"Visualisation des pointages",className:"fas fa-clipboard-list fa-4x"})),"\xa0",l.a.createElement("a",{className:"btn btn-dark",href:"/editionclient",role:"button"},l.a.createElement("i",{title:"Modification du profil",className:"fas fa-cogs fa-4x"}))))),l.a.createElement("hr",null),this.verifieEtatPointage(),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("button",{type:"button",onClick:function(){return window.location.href="/qrcodeclient"},className:"btn btn-dark btn-block"},l.a.createElement("i",{className:"fas fa-qrcode"})," QRCODE"),l.a.createElement("br",null),l.a.createElement("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-6868568671322455","data-ad-slot":"7446486547","data-ad-format":"auto"}))),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"Economie r\xe9alis\xe9s sur les prestations"),l.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.state.prestationsClients," \u20ac")),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-exchange-alt fa-2x"})))))),"  ",l.a.createElement("br",null),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"Nombre de pointage"),l.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.state.nbpointage)),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-exchange-alt fa-2x"})))))),"  ",l.a.createElement("br",null)),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"Carte total"),l.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.state.carteTotal)),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-exchange-alt fa-2x"})))))),"  ",l.a.createElement("br",null),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row no-gutters align-items-center"},l.a.createElement("div",{className:"col mr-2"},l.a.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"Pointage Total"),l.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.state.pointageTotal)),l.a.createElement("div",{className:"col-auto"},l.a.createElement("i",{className:"fas fa-exchange-alt fa-2x"})))))))),l.a.createElement("br",null),l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table table-striped bg-white"},l.a.createElement("thead",null,l.a.createElement("tr",null)),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"ID Client :")," "),l.a.createElement("td",null,this.state.identifiantclient)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Inscription :")," "),l.a.createElement("td",null,this.state.dataInscription)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Nom :")," "),l.a.createElement("td",null,this.state.nomClient)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Pr\xe9nom :")," "),l.a.createElement("td",null,this.state.prenomClient)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Adresse :")," "),l.a.createElement("td",null,this.state.adresseClient)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Code postal:")," "),l.a.createElement("td",null,this.state.codepostal)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Ville :")," "),l.a.createElement("td",null,this.state.ville)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Email :")," "),l.a.createElement("td",null,this.state.emailClient)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"N\xb0 T\xe9l\xe9phone :")," "),l.a.createElement("td",null,this.state.telephoneClient))))))),l.a.createElement(k,null))),l.a.createElement("a",{className:"scroll-to-top rounded",href:"#page-top"},l.a.createElement("i",{className:"fas fa-angle-up"})),l.a.createElement(R.a,{open:e,onClose:this.onCloseModal,center:!0},l.a.createElement("h2",null,"Syst\xe8me de notation"),l.a.createElement("hr",null),l.a.createElement("p",null,"Prenez quelques secondes afin d'\xe9valuer la qualit\xe9 du travail de votre prestataire. Cela lui permettra de s'am\xe9liorer et \xe9galement d'obtenir une meilleure visibilit\xe9."),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement(H.a,{emptySymbol:"far fa-star fa-2x",fullSymbol:"fas fa-star fa-2x",onClick:this.getRating.bind(this)}))))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({selectedOption:e,checkChangeVille:"1"}),console.log("Option selected:",e)},a.state={nomClient:"",prenomClient:"",adresseClient:"",emailClient:"",telephoneClient:"",actuelMdp:"",nouveauMdp:"",retapeMdp:"",checkChangeVille:"",selectedOption:null,options:[],statutMsgMaj:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=voirClient&id="+this.props.idUserRecupClient+"&identreprise="+this.props.idEntRecupClient+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){t.map(function(t,a){return e.setState({nomClient:t.nom,prenomClient:t.prenom,adresseClient:t.adresse,emailClient:t.email,telephoneClient:t.telephone,ville:t.ville,codepostal:t.codepostal})})}).catch(function(e){return console.error(e)}),fetch(y.hostnameManuelServer+"fidapi/main.php?action=selectZonage&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({options:t})}).catch(function(e){return console.error(e)})}},{key:"majClient",value:function(){var e=this,t=this.state.selectedOption.label.split("/"),a=t[0],n=t[1];fetch(y.hostnameManuelServer+"fidapi/main.php?action=majClient&idclient="+this.props.idUserRecupClient+"&nom="+this.state.nomClient+"&prenom="+this.state.prenomClient+"&email="+this.state.emailClient+"&adresse="+this.state.adresseClient+"&telephone="+this.state.telephoneClient+"&codepostal="+a+"&ville="+n+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){"#MAJCLIENT#SUCCESS"===t?(console.log(t),e.setState({statutMsgMaj:"1"}),w.a.event({category:"User",action:"Le client "+e.state.nomClient+" "+e.state.prenomClient+" a mis \xe0 jour son profil."}),setTimeout(function(){return window.location.href="/fichecoclient"},2500)):"#MAJCLIENT#FAILED"===t?(console.log(t),e.setState({statutMsgMaj:"2"}),w.a.event({category:"User",action:"Le client "+e.state.nomClient+" "+e.state.prenomClient+" n'a pas r\xe9ussi \xe0 mettre \xe0 jour son profil."}),setTimeout(function(){return window.location.href="/editionclient"},2500)):"#MAJCLIENT#NOSOUCHE"===t&&(console.log(t),e.setState({statutMsgMaj:"6"}),w.a.event({category:"User",action:"Le client "+e.state.nomClient+" "+e.state.prenomClient+" n'a pas r\xe9ussi \xe0 mettre \xe0 jour son profil (Compte souche requis)."}),setTimeout(function(){return window.location.href="/editionclient"},2500))}).catch(function(e){return console.error(e)})}},{key:"changeMDP",value:function(){var e=this;this.state.nouveauMdp===this.state.retapeMdp?fetch(y.hostnameManuelServer+"fidapi/main.php?action=changeMdp&idclient="+this.props.idUserRecupClient+"&oldmdp="+this.state.actuelMdp+"&nouveaumdp="+this.state.nouveauMdp+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){"#MDFMDP#SUCCESS"===t?(console.log(t),e.setState({statutMsgMaj:"3",actuelMdp:"",nouveauMdp:"",retapeMdp:""}),w.a.event({category:"User",action:"Le client "+e.state.nomClient+" "+e.state.prenomClient+" a mis \xe0 jour son mot de passe."}),setTimeout(function(){return window.location.href="/fichecoclient"},2500)):"#MDFMDP#FAILED"===t?(console.log(t),e.setState({statutMsgMaj:"4",actuelMdp:"",nouveauMdp:"",retapeMdp:""}),w.a.event({category:"User",action:"Le client "+e.state.nomClient+" "+e.state.prenomClient+" n'a pas r\xe9ussi \xe0 mettre \xe0 jour son mot de passe."}),setTimeout(function(){return window.location.href="/editionclient"},2500)):"#MDFMDP#NOSOUCHE"===t&&(console.log(t),e.setState({statutMsgMaj:"4",actuelMdp:"",nouveauMdp:"",retapeMdp:""}),w.a.event({category:"User",action:"Le client "+e.state.nomClient+" "+e.state.prenomClient+" n'a pas r\xe9ussi \xe0 mettre \xe0 jour son mot de passe (Compte souche requis)."}),setTimeout(function(){return window.location.href="/editionclient"},2500))}).catch(function(e){return console.error(e)}):(this.setState({statutMsgMaj:"5",actuelMdp:"",nouveauMdp:"",retapeMdp:""}),setTimeout(function(){return window.location.href="/editionclient"},2500))}},{key:"afficheStatutMaj",value:function(){return"1"===this.state.statutMsgMaj?l.a.createElement("div",{className:"alert alert-success"},"Votre profil a bien \xe9t\xe9 mis \xe0 jour."):"2"===this.state.statutMsgMaj?l.a.createElement("div",{className:"alert alert-danger"},"Votre profil n'a pas \xe9t\xe9 mis \xe0 jour."):"3"===this.state.statutMsgMaj?l.a.createElement("div",{className:"alert alert-success"},"Votre mot de passe a bien \xe9t\xe9 modifier."):"4"===this.state.statutMsgMaj?l.a.createElement("div",{className:"alert alert-danger"},"Votre mot de passe n'a pas \xe9t\xe9 modifier. (Ceci n'est pas votre compte principale.)"):"5"===this.state.statutMsgMaj?l.a.createElement("div",{className:"alert alert-danger"},"Les mots de passe ne sont pas identique."):"6"===this.state.statutMsgMaj?l.a.createElement("div",{className:"alert alert-danger"},"Votre profil n'a pas \xe9t\xe9 mis \xe0 jour. (Ceci n'est pas votre compte principale.)"):void 0}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedOption,n=t.nomClient,r=t.prenomClient,s=t.adresseClient,i=t.emailClient,o=t.telephoneClient,c=t.checkChangeVille,m=!v.a.isEmpty(n)&&!v.a.isEmpty(r)&&!v.a.isEmpty(s)&&!v.a.isEmpty(c)&&v.a.isEmail(i)&&v.a.isNumeric(o),u=this.state.options.map(function(e){return{value:e.codepostal,label:e.codepostal+" / "+e.ville}});return l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement(Y,{title:"Editez votre profil"}),l.a.createElement("div",{className:"container-fluid"},this.afficheStatutMaj(),l.a.createElement("br",null),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null)),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Nom : "),l.a.createElement("td",null,l.a.createElement("input",{type:"text",className:"form-control",value:this.state.nomClient,onChange:function(t){return e.setState({nomClient:t.target.value})}}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Pr\xe9nom : "),l.a.createElement("td",null,l.a.createElement("input",{type:"text",className:"form-control",value:this.state.prenomClient,onChange:function(t){return e.setState({prenomClient:t.target.value})}}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Adresse : "),l.a.createElement("td",null,l.a.createElement("input",{type:"text",className:"form-control",value:this.state.adresseClient,onChange:function(t){return e.setState({adresseClient:t.target.value})}}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Code postal"),l.a.createElement("td",{align:"center"},this.state.codepostal)),l.a.createElement("tr",null,l.a.createElement("td",null,"Ville"),l.a.createElement("td",{align:"center"},this.state.ville)),l.a.createElement("tr",null,l.a.createElement("td",null,"Nouvelle localisation"),l.a.createElement("td",{align:"center"},l.a.createElement(h.a,{value:a,onChange:this.handleChange,options:u,placeholder:"Code postal"}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Email : "),l.a.createElement("td",null,l.a.createElement("input",{type:"text",className:"form-control",value:this.state.emailClient,onChange:function(t){return e.setState({emailClient:t.target.value})}}))),l.a.createElement("tr",null,l.a.createElement("td",null,"N\xb0 T\xe9l\xe9phone : "),l.a.createElement("td",null,l.a.createElement("input",{type:"text",className:"form-control",value:this.state.telephoneClient,onChange:function(t){return e.setState({telephoneClient:t.target.value})}}))),l.a.createElement("tr",null,l.a.createElement("td",null),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-success btn-block",disabled:!m,onClick:this.majClient.bind(this),type:"submit"},"Sauvegarder les modifications"))))),l.a.createElement("br",null),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null)),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Mot de passe actuel : "),l.a.createElement("td",null,l.a.createElement("input",{type:"password",className:"form-control",value:this.state.actuelMdp,onChange:function(t){return e.setState({actuelMdp:t.target.value})},required:!0}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Nouveau mot de passe : "),l.a.createElement("td",null,l.a.createElement("input",{type:"password",className:"form-control",value:this.state.nouveauMdp,onChange:function(t){return e.setState({nouveauMdp:t.target.value})},required:!0}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Retapez le mot de passe : "),l.a.createElement("td",null,l.a.createElement("input",{type:"password",className:"form-control",value:this.state.retapeMdp,onChange:function(t){return e.setState({retapeMdp:t.target.value})},required:!0}))),l.a.createElement("tr",null,l.a.createElement("td",null),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-success btn-block",onClick:this.changeMDP.bind(this),type:"submit"},"Sauvegarder les modifications"))))))),l.a.createElement(k,null))),l.a.createElement("a",{className:"scroll-to-top rounded",href:"#page-top"},l.a.createElement("i",{className:"fas fa-angle-up"})))}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={cadeauxAttente:[],cadeauxRecu:[],statutConfirmationCadeaux:"",statutCadeauxAttente:"",statutCadeauxRecu:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=afficheCadeauxRecu&id="+this.props.idUserRecupClient+"&identreprise="+this.props.idEntRecupClient+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){console.log(t),"#AFFCADEAUXRECU#ECHEC"===t?e.setState({statutCadeauxRecu:"2"}):e.setState({cadeauxRecu:t,statutCadeauxRecu:"1"})}).catch(function(e){return console.error(e)})}},{key:"afficheCadeauxRecu",value:function(){return"1"===this.state.statutCadeauxRecu?this.state.cadeauxRecu.map(function(e){return l.a.createElement("div",{key:e.id},l.a.createElement("div",{className:"wellCadeaux"},l.a.createElement("div",{className:"container-perso"},l.a.createElement("b",null,"Cadeaux re\xe7u le :")," ",e.datereceptioncadeaux," ",l.a.createElement("br",null),l.a.createElement("b",null,"IDC :")," ",e.idcarte," - ",l.a.createElement("b",null,"QRCODE :")," ",e.code," ",l.a.createElement("br",null),l.a.createElement("i",{className:"fas fa-gifts"})," : ",e.cadeaux," - ",e.prix," \u20ac",l.a.createElement("br",null))))}):"2"===this.state.statutCadeauxRecu?l.a.createElement("div",{className:"msgErrorPerso"},"Vous n'avez re\xe7u aucun cadeaux !"):void 0}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement(Y,{title:"Cadeaux de fid\xe9lit\xe9s"}),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("hr",null),l.a.createElement("div",{className:"page-header"},l.a.createElement("div",{className:"container-perso"},l.a.createElement("h1",null,l.a.createElement("i",{className:"fas fa-gifts"})," Cadeaux re\xe7u... ",l.a.createElement("br",null)),l.a.createElement("p",{className:"text-justify"},"Vous trouverez ici vos prestations termin\xe9es."))),this.afficheCadeauxRecu())),l.a.createElement(k,null))),l.a.createElement("a",{className:"scroll-to-top rounded",href:"#page-top"},l.a.createElement("i",{className:"fas fa-angle-up"})))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={dataPointage:[],loading:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=listePointageClient&idclient="+this.props.idUserRecupClient+"&ident="+this.props.idEntRecupClient+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){switch(t){case"#POINTAGE#VIDE":console.log(t),e.setState({cartePointageMsg:"5"});break;default:console.log(t),e.setState({dataPointage:t,loading:!0})}}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){var e;return e=this.state.loading?l.a.createElement("div",null,l.a.createElement("div",{className:"container-fluid"},l.a.createElement(L.a,{columns:[{title:"Entreprise",field:"entreprise"},{title:"Fin pointage",field:"finpointage"},{title:"Prestation",field:"prestation"},{title:"Prix",field:"prix"}],data:this.state.dataPointage.map(function(e){return{entreprise:e.entreprise,finpointage:e.finpointage,prestation:e.prestation,prix:e.prix}}),title:"Pointages"}),l.a.createElement("br",null))):l.a.createElement("div",{className:"styleLoader"},l.a.createElement("center",null,l.a.createElement(j.a,{type:"Triangle",color:"#00BFFF",height:"100",width:"100"})," ")),l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement(Y,{title:"Suivit des pointages"}),l.a.createElement("br",null),l.a.createElement("br",null),e),l.a.createElement(k,null))),l.a.createElement("a",{className:"scroll-to-top rounded",href:"#page-top"},l.a.createElement("i",{className:"fas fa-angle-up"})))}}]),t}(n.Component),$=a(95),ee=a(331),te=a.n(ee),ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={result:"0"},a.handleScan=a.handleScan.bind(Object($.a)(Object($.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleScan",value:function(e){var t=this;if("0"===this.state.result&&e){this.setState({result:"1"});var a=new Audio;a.src="sons/bip.mp3",a.play(),fetch(y.hostnameManuelServer+"fidapi/main.php?action=pointageProductivite&id="+this.props.idUserRecupClient+"&identreprise="+this.props.idEntRecupClient+"&qrcode="+e+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(e){switch(e){case"#PRODUCTPOINTAGE#SUCCESS":console.log(e),w.a.event({category:"User",action:"Le client (N\xb0 "+t.props.idUserRecupClient+") a effectuer un pointage."}),setTimeout(function(){return window.location.href="/fichecoclient"},1500);break;case"#PRODUCTPOINTAGE#FAILED":console.log(e),w.a.event({category:"User",action:"Le client (N\xb0 "+t.props.idUserRecupClient+") n'a pas r\xe9ussi \xe0 effectuer un pointage."});break;case"#CARTEFIDENT#DESACTIVE":console.log(e),w.a.event({category:"User",action:"Le client (N\xb0 "+t.props.idUserRecupClient+") n'a pas r\xe9ussi \xe0 effectuer un pointage."}),alert("Impossible d'effectuer un pointage car la carte de l'entreprise est d\xe9sactiv\xe9.");break;case"#LIMITPOINTAGE#ATTEIND":console.log(e),w.a.event({category:"User",action:"Le client (N\xb0 "+t.props.idUserRecupClient+") a atteind la limitation de la carte de fid\xe9lit\xe9."}),setTimeout(function(){return window.location.href="/fichecoclient"},1500)}}).catch(function(e){return console.error(e)})}}},{key:"handleError",value:function(e){alert(e)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("center",null,l.a.createElement(te.a,{delay:500,onError:this.handleError,onScan:this.handleScan,style:{width:"100%",margin:"0 auto"},ref:function(t){e.videoStream=t}})))))))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={statutMsg:"",cartefidelite:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=consultationArchiveFidelite&idclient="+this.props.idUserRecupClient+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){console.log(t),"#LSTCARDFIDELITE#VIDE"===t?e.setState({statutMsg:"1"}):e.setState({cartefidelite:t})}).catch(function(e){return console.error(e)})}},{key:"afficheArchivesCarte",value:function(){return"1"===this.state.statutMsg?l.a.createElement("div",{className:"alert alert-warning"},l.a.createElement("center",null,"Vous n'avez encore aucune carte en historique...")):l.a.createElement("div",{className:"row"},this.state.cartefidelite.map(function(e){return l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"panelCarte",onClick:function(){return alert("Num\xe9ro de carte : "+e.id+"\nDate de cr\xe9ation : "+e.datecreation+"\nPropri\xe9taire : "+e.nom+" "+e.prenom+"\nPointage : "+e.nbpointage+" / "+e.limitpointage+"\nCadeaux : "+e.cadeaux+"\nCode propri\xe9taire : "+e.qrcode)}},l.a.createElement("img",{src:y.hostnameManuelServer+"fidapi/img/"+e.imgbackground,className:"img-fluid",id:"img5",alt:""}),l.a.createElement("img",{src:y.hostnameManuelServer+"fidapi/img/"+e.imgicon,className:"img-fluid",id:"img6",alt:""})),l.a.createElement("br",null))}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},l.a.createElement("div",{id:"content"},l.a.createElement(Y,{title:"Consultation des archives"}),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("br",null),this.afficheArchivesCarte())),l.a.createElement(k,null))))}}]),t}(n.Component),le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChangeSelect=function(e){a.setState({selectedOption:e}),console.log("Option selected:",e)},a.state={nomEntreprise:"",emailEntreprise:"",passwordEntreprise:"",nom:"",prenom:"",adresse:"",telephone:"",sector:"Coiffure",retape:"",isCheckedRGPD:!1,statueIns:"0",selectedOption:null,options:[],getApiKey:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(y.hostnameManuelServer+"fidapi/main.php?action=selectZonage&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({options:t})}).catch(function(e){return console.error(e)})}},{key:"addInscription",value:function(e){var t=this,a=this.state,n=a.nomEntreprise,l=a.emailEntreprise,r=a.nom,s=a.prenom,i=a.adresse,o=a.telephone,c=a.sector,m=a.passwordEntreprise,u=a.retape;if(e.preventDefault(),this.state.isCheckedRGPD)if(m===u)if(v.a.isEmpty(n)||!v.a.isEmail(l)||v.a.isEmpty(r)||v.a.isEmpty(s)||v.a.isEmpty(i)||v.a.isEmpty(c)||v.a.isEmpty(o)||v.a.isEmpty(this.state.selectedOption.label)||v.a.isEmpty(m)||v.a.isEmpty(u))this.setState({statueIns:"6"});else{var p=this.state.selectedOption.label.split("/"),d=p[0],h=p[1];fetch(y.hostnameManuelServer+"fidapi/main.php?action=inscription&nEntreprise="+n+"&mailEntreprise="+l+"&nom="+r+"&prenom="+s+"&adresse="+i+"&telephone="+o+"&secteur="+c+"&password="+m+"&codepostal="+d+"&ville="+h+"&apikey="+this.props.apikey).then(function(e){return e.json()}).then(function(e){console.log(e),"#INS#SUCCESS"===e?(t.setState({statueIns:"2"}),w.a.event({category:"User",action:"L'entreprise "+n+" vien de s'inscrire sur la plateforme."}),setTimeout(function(){return window.location.href="/"},2500)):"#INS#ERROR"===e?(t.setState({statueIns:"3"}),w.a.event({category:"User",action:"L'entreprise "+n+" a \xe9chou\xe9e son inscription."}),setTimeout(function(){return window.location.href="/register"},2500)):"#INS#EXISTE"===e&&(t.setState({statueIns:"4"}),w.a.event({category:"User",action:"L'entreprise "+n+" a \xe9chou\xe9e son inscription."}),setTimeout(function(){return window.location.href="/register"},2500))}).catch(function(e){return console.error(e)})}else this.setState({statueIns:"1"}),console.log("#INS#MDPNONIDENTIQUE");else this.setState({statueIns:"5"})}},{key:"checkmsg",value:function(){switch(this.state.statueIns){case"1":return l.a.createElement("div",{className:"alert alert-warning"},l.a.createElement("strong",null,"Attention, ")," les mots de passe ne sont pas identique.");case"2":return l.a.createElement("div",{className:"alert alert-success"},l.a.createElement("center",null,"Inscription r\xe9ussi ! Patientez..."));case"3":return l.a.createElement("div",{className:"alert alert-danger"},l.a.createElement("strong",null,"Echec de l'inscription"),", veuillez recommencer !");case"4":return l.a.createElement("div",{className:"alert alert-danger"},"Un compte avec ce nom d'entreprise ou cette adresse email existe d\xe9j\xe0. Veuillez changer vos informations !");case"5":return l.a.createElement("div",{className:"alert alert-danger"},"Vous devez accepter les conditions d'utilisations pour pouvoir vous inscrire.");case"6":return l.a.createElement("div",{className:"alert alert-danger"},"Vous devez remplir l'ensemble des formulaires pour valider votre inscription.")}}},{key:"handleChange",value:function(e){this.setState({sector:e.target.value})}},{key:"toggleChange",value:function(){this.setState({isCheckedRGPD:!this.state.isCheckedRGPD})}},{key:"render",value:function(){var e=this,t=this.state.selectedOption,a=this.state.options.map(function(e){return{value:e.codepostal,label:e.codepostal+" / "+e.ville}});return l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card o-hidden border-0 shadow-lg my-5"},l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"p-5"},l.a.createElement("div",{className:"text-center"},l.a.createElement("h1",{className:"h4 text-gray-900 mb-4"},"FIDLIZ ",l.a.createElement("span",{className:"text-danger"},"[BETA]"),l.a.createElement("br",null),l.a.createElement("small",null,"Cr\xe9ation d'un compte entreprise"))),this.checkmsg(),l.a.createElement("form",{onSubmit:this.addInscription.bind(this),className:"user"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-sm-6 mb-3 mb-sm-0"},l.a.createElement("input",{type:"text",value:this.state.nomEntreprise,onChange:function(t){return e.setState({nomEntreprise:t.target.value})},className:"form-control",placeholder:"Nom de l'entreprise"})),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("input",{type:"email",value:this.state.emailEntreprise,onChange:function(t){return e.setState({emailEntreprise:t.target.value})},className:"form-control",placeholder:"Email"}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-sm-6 mb-3 mb-sm-0"},l.a.createElement("input",{type:"text",value:this.state.nom,onChange:function(t){return e.setState({nom:t.target.value})},className:"form-control",placeholder:"Votre nom"})),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("input",{type:"text",value:this.state.prenom,onChange:function(t){return e.setState({prenom:t.target.value})},className:"form-control",placeholder:"Votre pr\xe9nom"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("select",{className:"form-control",onChange:this.handleChange.bind(this),value:this.state.sector},l.a.createElement("option",{value:"Coiffure"},"Coiffure"),l.a.createElement("option",{value:"Pizzeria"},"Pizzeria"),l.a.createElement("option",{value:"Snack-Bar"},"Snack-Bar"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",value:this.state.adresse,onChange:function(t){return e.setState({adresse:t.target.value})},className:"form-control",placeholder:"Votre adresse"})),l.a.createElement("div",{className:"form-group"},l.a.createElement(h.a,{value:t,onChange:this.handleChangeSelect,options:a,placeholder:"Code postal"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",value:this.state.telephone,onChange:function(t){return e.setState({telephone:t.target.value})},className:"form-control",placeholder:"Votre t\xe9l\xe9phone"})),l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-sm-6 mb-3 mb-sm-0"},l.a.createElement("input",{type:"password",value:this.state.passwordEntreprise,onChange:function(t){return e.setState({passwordEntreprise:t.target.value})},className:"form-control",placeholder:"Password"})),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("input",{type:"password",value:this.state.retape,onChange:function(t){return e.setState({retape:t.target.value})},className:"form-control",placeholder:"Retapez"}))),l.a.createElement("div",{className:"form-check"},l.a.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.state.isCheckedRGPD,onChange:this.toggleChange.bind(this)}),l.a.createElement("label",{className:"form-check-label"},"J'accepte les ",l.a.createElement("a",{href:"/conditions-utilisations"},"conditions d'utilisations"))),l.a.createElement("br",null),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Inscription"),l.a.createElement("hr",null),l.a.createElement("a",{href:"/",className:"btn btn-facebook btn-block"},"D\xe9j\xe0 un compte ? Cliquez-ici !")))))))))}}]),t}(n.Component),re=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{id:"content"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"text-center"},l.a.createElement("div",{className:"error mx-auto","data-text":"404"},"404"),l.a.createElement("p",{className:"lead text-gray-800 mb-5"},"Page Not Found"),l.a.createElement("p",{className:"text-gray-500 mb-0"},"It looks like you found a glitch in the matrix..."),l.a.createElement("a",{href:"/"},"\u2190 Back to Dashboard")))))}}]),t}(n.Component),se=a(333),ie=a.n(se),oe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return"0"===this.props.etatmaintenance&&(window.location.href="/"),l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("br",null),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",null,l.a.createElement("img",{src:ie.a,className:"img-fluid",alt:"Fideliz en cours de maintenance"}),l.a.createElement("br",null),l.a.createElement("span",{className:"badge badge-dark"},"Prochaine version : ",this.props.version)),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},this.props.objet)),l.a.createElement("br",null),l.a.createElement("p",null,"Veuillez nous excuser pour le d\xe9sagr\xe9ment."))))}}]),t}(n.Component);w.a.initialize("UA-139038748-1"),w.a.pageview(window.location.pathname+window.location.search);var ce=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({selectedOption:e}),console.log("Option selected:",e)},a.state={connexionEmail:"",connexionPassword:"",isLogged:!1,idUser:"",infCarteBackground:"",infCarteIcon:"",infTypeCompte:"",infAPIKEY:"",vrfLogged:d.a.load("#FID#CO#SUCCESS"),vrfIdUser:d.a.load("#FID#CO#IDUSER"),vrfInfosCarteBg:d.a.load("#FID#CO#CARTEBG"),vrfInfosCarteIcon:d.a.load("#FID#CO#CARTEICON"),vrfInfosTypeCompte:d.a.load("#FID#CO#TYPECPT"),vrfInfosAPIKEY:d.a.load("#FID#CO#APIKEY"),connexionEmailClient:"",connexionPasswordClient:"",isLoggedClient:!1,idUserClient:"",vrfLoggedClient:d.a.load("#FID#COCLIENT#SUCCESS"),vrfIdUserClient:d.a.load("#FID#COCLIENT#IDUSER"),vrfIdEntrepriseClient:d.a.load("#FID#COCLIENT#IDENT"),idTransitionRedirection:"",apikeyz:"",selectedOption:null,options:[],dataMaintenance:"",dataVersion:"",objetMaintenance:"",checkMsg:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Math.floor(10*Math.random())+1,t=fetch(y.hostnameManuelServer+"fidapi/main.php?action=getApiKey&id="+e).then(function(e){return e.json()}),a=fetch(y.hostnameManuelServer+"fidapi/main.php?action=maintenance").then(function(e){return e.json()}),n=fetch(y.hostnameManuelServer+"fidapi/main.php?action=selectionSociete").then(function(e){return e.json()}),l={apiRequest1:{},apiRequest2:{},apiRequest3:{}};Promise.all([t,a,n]).then(function(e){var t=this;l.apiRequest1=e[0],l.apiRequest2=e[1],l.apiRequest3=e[2],l.apiRequest1.map(function(e){return t.setState({apikeyz:e.apikey})}),l.apiRequest2.map(function(e){return t.setState({dataMaintenance:e.maintenance,dataVersion:e.version,objetMaintenance:e.objet})}),this.setState({options:l.apiRequest3})}.bind(this))}},{key:"Connexion",value:function(e){var t=this,a=this.state,n=a.connexionEmail,l=a.connexionPassword,r=a.isLogged,s=a.idUser;e.preventDefault(),fetch(y.hostnameManuelServer+"fidapi/main.php?action=jourRestantMaj&cntemail="+n+"&cntpassword="+l).then(function(e){return e.json()}).then(function(e){console.log(e),"#ENT#NOEXIST"===e?(t.setState({checkMsg:"1",connexionEmail:"",connexionPassword:""}),setTimeout(function(){return window.location.href="/"},2500)):fetch(y.hostnameManuelServer+"fidapi/main.php?action=configurationPremiereConnexion&cntemail="+n+"&cntpassword="+l).then(function(e){return e.json()}).then(function(e){console.log(e),fetch(y.hostnameManuelServer+"fidapi/main.php?action=connexion&cntemail="+n+"&cntpassword="+l).then(function(e){return e.json()}).then(function(e){console.log(e),t.setState({isLogged:r,idUser:s}),"#CO#ECHEC"===e?t.setState({checkMsg:"2",connexionEmail:"",connexionPassword:""}):(e.map(function(e,a){return t.setState({connexionEmail:"",connexionPassword:"",isLogged:d.a.save("#FID#CO#SUCCESS",!0,{path:"/"}),idUser:d.a.save("#FID#CO#IDUSER",e.id,{path:"/"}),infCarteBackground:d.a.save("#FID#CO#CARTEBG",e.imgfond,{path:"/"}),infCarteIcon:d.a.save("#FID#CO#CARTEICON",e.imgicon,{path:"/"}),infTypeCompte:d.a.save("#FID#CO#TYPECPT",e.typecompte,{path:"/"}),infAPIKEY:d.a.save("#FID#CO#APIKEY",t.state.apikeyz,{path:"/"})})}),w.a.event({category:"User",action:"Une entreprise se connecte."}),window.location.pathname="/dashboard")}).catch(function(e){return console.error(e)})}).catch(function(e){return console.error(e)})}).catch(function(e){return console.error(e)})}},{key:"connexionClient",value:function(e){var t=this,a=this.state,n=a.connexionEmailClient,l=a.connexionPasswordClient,r=a.isLoggedClient,s=a.idUserClient,i=a.selectedOption;e.preventDefault(),fetch(y.hostnameManuelServer+"fidapi/main.php?action=connexionClient&idEntreprise="+i.value+"&cntemail="+n+"&cntpassword="+l).then(function(e){return e.json()}).then(function(e){console.log(e),t.setState({isLoggedClient:r,idUserClient:s}),"#COCLIENT#ECHEC"===e?(t.setState({checkMsg:"3",connexionEmailClient:"",connexionPasswordClient:""}),setTimeout(function(){return window.location.href="/connexionclient"},2500)):(e.map(function(e,a){return t.setState({connexionEmailClient:"",connexionPasswordClient:"",isLoggedClient:d.a.save("#FID#COCLIENT#SUCCESS",!0,{path:"/"}),idUserClient:d.a.save("#FID#COCLIENT#IDUSER",e.id,{path:"/"}),idEntrepriseClient:d.a.save("#FID#COCLIENT#IDENT",e.identreprise,{path:"/"}),infAPIKEY:d.a.save("#FID#CO#APIKEY",t.state.apikeyz,{path:"/"}),idTransitionRedirection:e.id})}),w.a.event({category:"User",action:"Un client se connecte."}),window.location.href="/fichecoclient")}).catch(function(e){return console.error(e)})}},{key:"checkMsg",value:function(){return"1"===this.state.checkMsg?l.a.createElement("div",{className:"alert alert-danger"},l.a.createElement("center",null,"Connexion impossible \xe0 cette entreprise car elle n'existe pas, v\xe9rifiez vos informations...")):"2"===this.state.checkMsg?l.a.createElement("div",{className:"alert alert-danger"},l.a.createElement("center",null,"Connexion impossible, v\xe9rifiez vos informations...")):"3"===this.state.checkMsg?l.a.createElement("div",{className:"alert alert-danger"},l.a.createElement("center",null,"Connexion impossible, v\xe9rifiez vos informations...")):void 0}},{key:"render",value:function(){var e=this,t=this.state,a=t.vrfLogged,n=t.vrfLoggedClient,r=t.dataMaintenance,s=this.state,i=s.selectedOption,o=s.connexionEmail,c=s.connexionPassword,m=s.connexionEmailClient,u=s.connexionPasswordClient,p=v.a.isEmail(o)&&!v.a.isEmpty(c),d=v.a.isEmail(m)&&!v.a.isEmpty(i.label)&&!v.a.isEmpty(u),f=this.state.options.map(function(e){return{value:e.id,label:e.nomsociete}});return l.a.createElement("div",null,l.a.createElement(E.Online,null,l.a.createElement(g.a,null,l.a.createElement(b.a,null,l.a.createElement(C.a,{exact:!0,path:"/",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-xl-10 col-lg-12 col-md-9"},l.a.createElement("div",{className:"card o-hidden border-0 shadow-lg my-5"},l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 d-none d-lg-block bg-login-image"}),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"p-5"},l.a.createElement("div",{className:"text-center form-control-user"},l.a.createElement("h1",{className:"h4 text-gray-900 mb-4"},"FIDLIZ ",l.a.createElement("span",{className:"text-danger"},"[BETA]"),l.a.createElement("br",null)," ",l.a.createElement("small",null,"Espace entreprise"))),e.checkMsg(),l.a.createElement("form",{onSubmit:e.Connexion.bind(e),className:"user"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",value:e.state.connexionEmail,onChange:function(t){return e.setState({connexionEmail:t.target.value})},className:"form-control",placeholder:"Enter Email Address..."})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",value:e.state.connexionPassword,onChange:function(t){return e.setState({connexionPassword:t.target.value})},className:"form-control",placeholder:"Password"})),l.a.createElement("button",{type:"submit",disabled:!p,className:"btn btn-primary btn-block"},"Connexion"),l.a.createElement("hr",null),l.a.createElement("a",{href:"/connexionclient",className:"btn btn-google btn-block"},"Acc\xe8s compte client")),l.a.createElement("hr",null),l.a.createElement("div",{className:"text-center"},l.a.createElement("a",{className:"small",href:""},"Mot de passe oubli\xe9 ?")),l.a.createElement("div",{className:"text-center"},l.a.createElement("a",{className:"small",href:"/register"},"Pas de compte entreprise ? Cliquez-ici !"))))))))))}}),l.a.createElement(C.a,{path:"/connexionclient",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-xl-10 col-lg-12 col-md-9"},l.a.createElement("div",{className:"card o-hidden border-0 shadow-lg my-5"},l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 d-none d-lg-block bg-login-image"}),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"p-5"},l.a.createElement("div",{className:"text-center"},l.a.createElement("h1",{className:"h4 text-gray-900 mb-4"},"FIDLIZ ",l.a.createElement("span",{className:"text-danger"},"[BETA]"),l.a.createElement("br",null)," ",l.a.createElement("small",null,"Espace client"))),e.checkMsg(),l.a.createElement("form",{onSubmit:e.connexionClient.bind(e),className:"user"},l.a.createElement("div",{className:"form-group"},l.a.createElement(h.a,{value:i,onChange:e.handleChange,options:f})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{value:e.state.connexionEmailClient,onChange:function(t){return e.setState({connexionEmailClient:t.target.value})},type:"email",className:"form-control",placeholder:"Email"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{value:e.state.connexionPasswordClient,onChange:function(t){return e.setState({connexionPasswordClient:t.target.value})},type:"password",className:"form-control",placeholder:"Password"})),l.a.createElement("button",{type:"submit",disabled:!d,className:"btn btn-primary btn-block"},"Connexion"),l.a.createElement("hr",null),l.a.createElement("a",{href:"/",className:"btn btn-google btn-block"},"Acc\xe8s compte entreprise"))))))))))}}),l.a.createElement(C.a,{path:"/register",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):l.a.createElement(le,{apikey:e.state.vrfInfosAPIKEY})}}),l.a.createElement(C.a,{path:"/dashboard",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):a?l.a.createElement(O,{loggedIn:e.state.vrfLogged,idUserRecup:e.state.vrfIdUser,infoTypeCompte:e.state.vrfInfosTypeCompte,apikey:e.state.vrfInfosAPIKEY}):l.a.createElement(N.a,{to:"/"})}}),l.a.createElement(C.a,{path:"/profil",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):a?l.a.createElement(U,{loggedIn:e.state.vrfLogged,idUserRecup:e.state.vrfIdUser,infoTypeCompte:e.state.vrfInfosTypeCompte,apikey:e.state.vrfInfosAPIKEY}):l.a.createElement(N.a,{to:"/"})}}),l.a.createElement(C.a,{path:"/modifprofil",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):a?l.a.createElement(D,{loggedIn:e.state.vrfLogged,idUserRecup:e.state.vrfIdUser,infoTypeCompte:e.state.vrfInfosTypeCompte,apikey:e.state.vrfInfosAPIKEY}):l.a.createElement(N.a,{to:"/"})}}),l.a.createElement(C.a,{path:"/client",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):a?l.a.createElement(F,{loggedIn:e.state.vrfLogged,idUserRecup:e.state.vrfIdUser,infoTypeCompte:e.state.vrfInfosTypeCompte,apikey:e.state.vrfInfosAPIKEY}):l.a.createElement(N.a,{to:"/"})}}),l.a.createElement(C.a,{path:"/nouveauclient",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):a?l.a.createElement(q,{loggedIn:e.state.vrfLogged,idUserRecup:e.state.vrfIdUser,infoTypeCompte:e.state.vrfInfosTypeCompte,apikey:e.state.vrfInfosAPIKEY}):l.a.createElement(N.a,{to:"/"})}}),l.a.createElement(C.a,{path:"/inscriptionclient/:identreprise/:emailclt",render:function(e){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):l.a.createElement(V,e)}}),l.a.createElement(C.a,{path:"/voirclient/:id",render:function(t){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):a?l.a.createElement(G,Object.assign({},t,{loggedIn:e.state.vrfLogged,idUserRecup:e.state.vrfIdUser,infoTypeCompte:e.state.vrfInfosTypeCompte,apikey:e.state.vrfInfosAPIKEY})):l.a.createElement(N.a,{to:"/"})}}),l.a.createElement(C.a,{path:"/log",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):a?l.a.createElement(z,{loggedIn:e.state.vrfLogged,idUserRecup:e.state.vrfIdUser,infoTypeCompte:e.state.vrfInfosTypeCompte,bkdgCarte:e.state.vrfInfosCarteBg,iconCarte:e.state.vrfInfosCarteIcon,apikey:e.state.vrfInfosAPIKEY}):l.a.createElement(N.a,{to:"/"})}}),l.a.createElement(C.a,{path:"/prestations",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):a?l.a.createElement(K,{loggedIn:e.state.vrfLogged,idUserRecup:e.state.vrfIdUser,infoTypeCompte:e.state.vrfInfosTypeCompte,bkdgCarte:e.state.vrfInfosCarteBg,iconCarte:e.state.vrfInfosCarteIcon,apikey:e.state.vrfInfosAPIKEY}):l.a.createElement(N.a,{to:"/"})}}),l.a.createElement(C.a,{path:"/productivite",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):a?l.a.createElement(J,{loggedIn:e.state.vrfLogged,idUserRecup:e.state.vrfIdUser,infoTypeCompte:e.state.vrfInfosTypeCompte,bkdgCarte:e.state.vrfInfosCarteBg,iconCarte:e.state.vrfInfosCarteIcon,apikey:e.state.vrfInfosAPIKEY}):l.a.createElement(N.a,{to:"/"})}}),l.a.createElement(C.a,{path:"/maintenance",render:function(){return l.a.createElement(oe,{etatmaintenance:e.state.dataMaintenance,version:e.state.dataVersion,objet:e.state.objetMaintenance})}}),l.a.createElement(C.a,{path:"/fichecoclient",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):n?l.a.createElement(Q,{loggedInClient:e.state.vrfLoggedClient,idUserRecupClient:e.state.vrfIdUserClient,idEntRecupClient:e.state.vrfIdEntrepriseClient,apikey:e.state.vrfInfosAPIKEY}):l.a.createElement(N.a,{to:"/connexionclient"})}}),l.a.createElement(C.a,{path:"/editionclient",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):n?l.a.createElement(Z,{loggedInClient:e.state.vrfLoggedClient,idUserRecupClient:e.state.vrfIdUserClient,idEntRecupClient:e.state.vrfIdEntrepriseClient,apikey:e.state.vrfInfosAPIKEY}):l.a.createElement(N.a,{to:"/connexionclient"})}}),l.a.createElement(C.a,{path:"/mescadeaux",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):n?l.a.createElement(W,{loggedInClient:e.state.vrfLoggedClient,idUserRecupClient:e.state.vrfIdUserClient,idEntRecupClient:e.state.vrfIdEntrepriseClient,apikey:e.state.vrfInfosAPIKEY}):l.a.createElement(N.a,{to:"/connexionclient"})}}),l.a.createElement(C.a,{path:"/logpointages",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):n?l.a.createElement(_,{loggedInClient:e.state.vrfLoggedClient,idUserRecupClient:e.state.vrfIdUserClient,idEntRecupClient:e.state.vrfIdEntrepriseClient,apikey:e.state.vrfInfosAPIKEY}):l.a.createElement(N.a,{to:"/connexionclient"})}}),l.a.createElement(C.a,{path:"/qrcodeclient",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):n?l.a.createElement(ae,{loggedInClient:e.state.vrfLoggedClient,idUserRecupClient:e.state.vrfIdUserClient,idEntRecupClient:e.state.vrfIdEntrepriseClient,apikey:e.state.vrfInfosAPIKEY}):l.a.createElement(N.a,{to:"/connexionclient"})}}),l.a.createElement(C.a,{path:"/archives",render:function(){return"1"===r?l.a.createElement(N.a,{to:"/maintenance"}):n?l.a.createElement(ne,{loggedInClient:e.state.vrfLoggedClient,idUserRecupClient:e.state.vrfIdUserClient,idEntRecupClient:e.state.vrfIdEntrepriseClient,apikey:e.state.vrfInfosAPIKEY}):l.a.createElement(N.a,{to:"/connexionclient"})}}),l.a.createElement(C.a,{render:function(){return l.a.createElement(re,null)}})))),l.a.createElement(E.Offline,null,l.a.createElement("div",{className:"container"},l.a.createElement("br",null),l.a.createElement("div",{className:"text-center"},l.a.createElement("p",null,l.a.createElement("img",{src:x.a,className:"img-fluid",alt:"Connexion internet perdu..."}),l.a.createElement("br",null)),l.a.createElement("div",{className:"alert alert-danger"},l.a.createElement("center",null,l.a.createElement("p",null,"Vous devez \xeatre connect\xe9 \xe0 internet.",l.a.createElement("br",null),"Veuillez v\xe9rifier votre connexion internet. (",l.a.createElement("b",null,"3G / 4G / Wi-FI"),")"))),l.a.createElement("br",null)))))}}]),t}(n.Component),me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ue(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.a.render(l.a.createElement(ce,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");me?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ue(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):ue(t,e)})}}()}},[[335,1,2]]]);
//# sourceMappingURL=main.78b95d6f.chunk.js.map